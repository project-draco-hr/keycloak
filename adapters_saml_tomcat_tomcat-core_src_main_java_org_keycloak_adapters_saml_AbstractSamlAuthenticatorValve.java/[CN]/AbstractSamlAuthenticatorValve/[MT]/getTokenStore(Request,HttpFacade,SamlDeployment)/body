{
  SamlSessionStore store=(SamlSessionStore)request.getNote(TOKEN_STORE_NOTE);
  if (store != null) {
    return store;
  }
  store=new CatalinaSamlSessionStore(userSessionManagement,createPrincipalFactory(),mapper,request,this,facade);
  request.setNote(TOKEN_STORE_NOTE,store);
  return store;
}
