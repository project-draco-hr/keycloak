{
  ProviderFactoryLoader<AuditListenerFactory> loader=ProviderFactoryLoader.load(AuditListenerFactory.class);
  List<AuditListener> listeners=null;
  if (realm.getAuditListeners() != null) {
    listeners=new LinkedList<AuditListener>();
    for (    String id : realm.getAuditListeners()) {
      listeners.add(loader.find(id).create());
    }
  }
  return new Audit(listeners,new Event()).realm(realm).ipAddress(ipAddress);
}
