{
  EventEntity e=new EventEntity();
  e.setId(UUID.randomUUID().toString());
  e.setTime(o.getTime());
  e.setEvent(o.getEvent().toString());
  e.setRealmId(o.getRealmId());
  e.setClientId(o.getClientId());
  e.setUserId(o.getUserId());
  e.setSessionId(o.getSessionId());
  e.setIpAddress(o.getIpAddress());
  e.setError(o.getError());
  try {
    e.setDetailsJson(mapper.writeValueAsString(o.getDetails()));
  }
 catch (  IOException ex) {
    logger.error("Failed to write log details",ex);
  }
  return e;
}
