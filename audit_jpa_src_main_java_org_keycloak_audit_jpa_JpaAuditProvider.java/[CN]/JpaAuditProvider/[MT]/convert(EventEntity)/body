{
  Event e=new Event();
  e.setTime(o.getTime());
  e.setEvent(EventType.valueOf(o.getEvent()));
  e.setRealmId(o.getRealmId());
  e.setClientId(o.getClientId());
  e.setUserId(o.getUserId());
  e.setSessionId(o.getSessionId());
  e.setIpAddress(o.getIpAddress());
  e.setError(o.getError());
  try {
    Map<String,String> details=mapper.readValue(o.getDetailsJson(),mapType);
    e.setDetails(details);
  }
 catch (  IOException ex) {
    logger.error("Failed to read log details",ex);
  }
  return e;
}
