{
synchronized (allProviders) {
    FileOutputStream outStream=null;
    try {
      outStream=new FileOutputStream(kcdata);
      exportModel(session,outStream);
    }
 catch (    IOException e) {
      logger.error("Unable to write model file " + kcdata.getAbsolutePath(),e);
    }
 finally {
      try {
        if (outStream != null) {
          outStream.close();
        }
      }
 catch (      IOException e) {
        logger.error("Failed to close output stream.",e);
      }
    }
  }
}
