{
  BasicDBObject dbObjectToConvert=context.getObjectToConvert();
  HashMap<String,Object> result=new HashMap<String,Object>();
  for (  Map.Entry<String,Object> entry : dbObjectToConvert.entrySet()) {
    String key=entry.getKey();
    Object value=entry.getValue();
    if (value instanceof Double && context.getGenericTypes().get(1) == Integer.class) {
      value=((Double)value).intValue();
    }
    if (key.contains(MapMapper.DOT_PLACEHOLDER)) {
      key=key.replaceAll(MapMapper.DOT_PLACEHOLDER,".");
    }
    result.put(key,value);
  }
  return result;
}
