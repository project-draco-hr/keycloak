{
  Event e=new Event();
  e.setTime(o.getLong("time"));
  e.setType(EventType.valueOf(o.getString("type")));
  e.setGroup(EventGroup.valueOf(o.getString("group")));
  e.setRealmId(o.getString("realmId"));
  e.setClientId(o.getString("clientId"));
  e.setUserId(o.getString("userId"));
  e.setSessionId(o.getString("sessionId"));
  e.setIpAddress(o.getString("ipAddress"));
  e.setError(o.getString("error"));
  e.setRepresentation(o.getString("representation"));
  BasicDBObject d=(BasicDBObject)o.get("details");
  if (d != null) {
    Map<String,String> details=new HashMap<String,String>();
    for (    Object k : d.keySet()) {
      details.put((String)k,d.getString((String)k));
    }
    e.setDetails(details);
  }
  return e;
}
