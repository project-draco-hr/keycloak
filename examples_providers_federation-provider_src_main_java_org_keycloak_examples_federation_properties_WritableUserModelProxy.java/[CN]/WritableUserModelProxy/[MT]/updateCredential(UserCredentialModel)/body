{
  if (cred.getType().equals(UserCredentialModel.PASSWORD)) {
synchronized (provider.getProperties()) {
      if (!provider.getProperties().containsKey(delegate.getUsername())) {
        throw new IllegalStateException("no user of that in properties file");
      }
      provider.getProperties().setProperty(delegate.getUsername(),cred.getValue());
      provider.save();
    }
  }
 else {
    super.updateCredential(cred);
  }
}
