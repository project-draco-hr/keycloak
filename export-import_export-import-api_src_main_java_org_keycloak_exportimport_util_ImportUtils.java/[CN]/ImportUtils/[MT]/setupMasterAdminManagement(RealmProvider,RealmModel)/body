{
  RealmModel adminRealm;
  RoleModel adminRole;
  if (realm.getName().equals(Config.getAdminRealm())) {
    adminRealm=realm;
    adminRole=realm.addRole(AdminRoles.ADMIN);
    RoleModel createRealmRole=realm.addRole(AdminRoles.CREATE_REALM);
    adminRole.addCompositeRole(createRealmRole);
    createRealmRole.setDescription("${role_" + AdminRoles.CREATE_REALM + "}");
  }
 else {
    adminRealm=model.getRealmByName(Config.getAdminRealm());
    adminRole=adminRealm.getRole(AdminRoles.ADMIN);
  }
  adminRole.setDescription("${role_" + AdminRoles.ADMIN + "}");
  ClientModel realmAdminApp=KeycloakModelUtils.createClient(adminRealm,KeycloakModelUtils.getMasterRealmAdminApplicationName(realm));
  realmAdminApp.setBearerOnly(true);
  realm.setMasterAdminApp(realmAdminApp);
  for (  String r : AdminRoles.ALL_REALM_ROLES) {
    RoleModel role=realmAdminApp.addRole(r);
    role.setDescription("${role_" + r + "}");
    adminRole.addCompositeRole(role);
  }
}
