{
  logger.debug("Checking existence of user: " + username);
  try {
    String principal=getKerberosPrincipal(username);
    loginContext=new LoginContext("does-not-matter",null,createJaasCallbackHandler(principal,"fake-password-which-nobody-has"),createJaasConfiguration());
    loginContext.login();
    throw new IllegalStateException("Didn't expect to end here");
  }
 catch (  LoginException le) {
    String message=le.getMessage();
    logger.debug("Message from kerberos: " + message);
    boolean exists=(!message.contains("Client not found"));
    return exists;
  }
}
