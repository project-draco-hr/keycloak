{
  if (provider.getSupportedCredentialTypes(delegate).contains(cred.getType())) {
    throw new IllegalStateException("Federated storage is not writable");
  }
  delegate.updateCredential(cred);
}
