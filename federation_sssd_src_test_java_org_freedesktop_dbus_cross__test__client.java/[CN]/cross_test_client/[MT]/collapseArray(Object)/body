{
  if (null == array)   return "null";
  if (array.getClass().isArray()) {
    String s="{ ";
    for (int i=0; i < Array.getLength(array); i++)     s+=collapseArray(Array.get(array,i)) + ",";
    s=s.replaceAll(".$"," }");
    return s;
  }
 else   if (array instanceof List) {
    String s="{ ";
    for (    Object o : (List<Object>)array)     s+=collapseArray(o) + ",";
    s=s.replaceAll(".$"," }");
    return s;
  }
 else   if (array instanceof Map) {
    String s="{ ";
    for (    Object o : ((Map<Object,Object>)array).keySet())     s+=collapseArray(o) + " => " + collapseArray(((Map<Object,Object>)array).get(o))+ ",";
    s=s.replaceAll(".$"," }");
    return s;
  }
 else   return array.toString();
}
