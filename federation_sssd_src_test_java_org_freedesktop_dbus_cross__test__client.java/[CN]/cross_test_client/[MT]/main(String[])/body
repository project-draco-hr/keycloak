{
  try {
    DBusConnection conn=DBusConnection.getConnection(DBusConnection.SESSION);
    ctc=new cross_test_client(conn);
    conn.exportObject("/Test",ctc);
    conn.addSigHandler(DBus.Binding.TestSignals.Triggered.class,ctc);
    DBus.Binding.Tests tests=conn.getRemoteObject("org.freedesktop.DBus.Binding.TestServer","/Test",DBus.Binding.Tests.class);
    DBus.Binding.SingleTests singletests=conn.getRemoteObject("org.freedesktop.DBus.Binding.TestServer","/Test",DBus.Binding.SingleTests.class);
    DBus.Peer peer=conn.getRemoteObject("org.freedesktop.DBus.Binding.TestServer","/Test",DBus.Peer.class);
    DBus.Introspectable intro=conn.getRemoteObject("org.freedesktop.DBus.Binding.TestServer","/Test",DBus.Introspectable.class);
    DBus.Introspectable rootintro=conn.getRemoteObject("org.freedesktop.DBus.Binding.TestServer","/",DBus.Introspectable.class);
    doTests(peer,intro,rootintro,tests,singletests);
    for (    String s : passed)     System.out.println(s + " pass");
    int i=1;
    for (    String s : failed.keySet())     for (    String r : failed.get(s)) {
      System.out.println(s + " fail " + i);
      System.out.println("report " + i + ": "+ r);
      i++;
    }
    conn.disconnect();
  }
 catch (  DBusException DBe) {
    DBe.printStackTrace();
    System.exit(1);
  }
}
