{
  ExecutorService es=Executors.newFixedThreadPool(10);
  Set<Future<?>> result=new HashSet<Future<?>>();
  for (int i=0; i < 1000; i++) {
    result.add(es.submit(new Callable<Object>(){
      public Object call() throws Exception {
        testOne();
        return null;
      }
    }
));
  }
  for (  Future<?> f : result) {
    f.get();
  }
  es.shutdown();
}
