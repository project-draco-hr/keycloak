{
  this.authServerBaseUrl=authServerBaseUrl;
  if (authServerBaseUrl == null)   return;
  URI uri=URI.create(authServerBaseUrl);
  if (uri.getHost() == null) {
    String authServerURLForBackendReqs=config.getAuthServerUrlForBackendRequests();
    if (authServerURLForBackendReqs != null) {
      relativeUrls=RelativeUrlsUsed.BROWSER_ONLY;
      KeycloakUriBuilder serverBuilder=KeycloakUriBuilder.fromUri(authServerURLForBackendReqs);
      if (serverBuilder.getHost() == null || serverBuilder.getScheme() == null) {
        throw new IllegalStateException("Relative URL not supported for auth-server-url-for-backend-requests option. URL used: " + authServerURLForBackendReqs + ", Client: "+ config.getResource());
      }
      resolveNonBrowserUrls(serverBuilder);
    }
 else {
      relativeUrls=RelativeUrlsUsed.ALL_REQUESTS;
    }
  }
 else {
    relativeUrls=RelativeUrlsUsed.NEVER;
    KeycloakUriBuilder serverBuilder=KeycloakUriBuilder.fromUri(authServerBaseUrl);
    resolveBrowserUrls(serverBuilder);
    resolveNonBrowserUrls(serverBuilder);
  }
}
