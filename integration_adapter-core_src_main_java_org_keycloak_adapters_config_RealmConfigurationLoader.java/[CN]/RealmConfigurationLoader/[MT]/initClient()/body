{
  int size=10;
  if (adapterConfig.getConnectionPoolSize() > 0)   size=adapterConfig.getConnectionPoolSize();
  HttpClientBuilder.HostnameVerificationPolicy policy=HttpClientBuilder.HostnameVerificationPolicy.WILDCARD;
  if (adapterConfig.isAllowAnyHostname())   policy=HttpClientBuilder.HostnameVerificationPolicy.ANY;
  HttpClientBuilder builder=new HttpClientBuilder().connectionPoolSize(size).hostnameVerification(policy).keyStore(clientCertKeystore,adapterConfig.getClientKeyPassword());
  if (adapterConfig.isDisableTrustManager()) {
    builder.disableTrustManager();
  }
 else {
    builder.trustStore(truststore);
  }
  client=builder.build();
}
