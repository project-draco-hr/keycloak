{
  try {
    CatalinaHttpFacade facade=new CatalinaHttpFacade(request,response);
    KeycloakDeployment deployment=deploymentContext.resolveDeployment(facade);
    if (deployment != null && deployment.isConfigured()) {
      PreAuthActionsHandler handler=new PreAuthActionsHandler(userSessionManagement,deployment,facade);
      if (handler.handleRequest()) {
        return;
      }
    }
    checkKeycloakSession(request,facade);
    super.invoke(request,response);
  }
  finally {
  }
}
