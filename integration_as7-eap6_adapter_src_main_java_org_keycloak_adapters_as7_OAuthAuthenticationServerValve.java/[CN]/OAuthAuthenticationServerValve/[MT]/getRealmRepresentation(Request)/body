{
  ManagedResourceConfig rep=new ManagedResourceConfig();
  ResteasyUriInfo uriInfo=ServletUtil.extractUriInfo(request,null);
  UriBuilder authUrl=uriInfo.getBaseUriBuilder().path(context.getLoginConfig().getLoginPage());
  UriBuilder codeUrl=uriInfo.getBaseUriBuilder().path(Actions.J_OAUTH_RESOLVE_ACCESS_CODE);
  rep.setRealm(skeletonKeyConfig.getRealm());
  rep.setRealmKey(realmPublicKeyPem);
  rep.setAuthUrl(authUrl.toTemplate());
  rep.setCodeUrl(codeUrl.toTemplate());
  rep.setAdminRole(skeletonKeyConfig.getAdminRole());
  return rep;
}
