{
  if (request.getSessionInternal() == null || request.getSessionInternal().getPrincipal() == null) {
    redirectToWelcomePage(request,response);
    return;
  }
  GenericPrincipal principal=(GenericPrincipal)request.getSessionInternal().getPrincipal();
  String username=principal.getName();
  String admin=username;
  userSessionManagement.logout(username);
  request.setUserPrincipal(null);
  request.setAuthType(null);
  logoutResources(username,admin);
  redirectToWelcomePage(request,response);
}
