{
  ManagedResourceConfigLoader managedResourceConfigLoader=new CatalinaManagedResourceConfigLoader(context);
  managedResourceConfigLoader.init(true);
  resourceMetadata=managedResourceConfigLoader.getResourceMetadata();
  remoteSkeletonKeyConfig=managedResourceConfigLoader.getRemoteSkeletonKeyConfig();
  realmConfiguration=managedResourceConfigLoader.getRealmConfiguration();
  AuthenticatedActionsValve actions=new AuthenticatedActionsValve(remoteSkeletonKeyConfig,getNext(),getContainer(),getController());
  setNext(actions);
}
