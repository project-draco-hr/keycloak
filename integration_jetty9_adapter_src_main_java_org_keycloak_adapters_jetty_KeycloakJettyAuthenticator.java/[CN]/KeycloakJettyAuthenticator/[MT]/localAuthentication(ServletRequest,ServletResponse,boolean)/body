{
  HttpServletRequest request=(HttpServletRequest)servletRequest;
  HttpServletResponse response=(HttpServletResponse)servletResponse;
  if (request.getUserPrincipal() == null) {
    logger.samlSPFallingBackToLocalFormAuthentication();
    try {
      return super.validateRequest(servletRequest,servletResponse,mandatory);
    }
 catch (    NoSuchMethodError e) {
    }
  }
 else {
    return Authentication.SEND_SUCCESS;
  }
  return Authentication.UNAUTHENTICATED;
}
