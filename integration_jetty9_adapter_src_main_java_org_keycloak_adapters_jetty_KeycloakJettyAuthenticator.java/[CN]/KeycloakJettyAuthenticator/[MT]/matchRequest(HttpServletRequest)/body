{
  HttpSession session=request.getSession(false);
synchronized (session) {
    String j_uri=(String)session.getAttribute(__J_URI);
    if (j_uri != null) {
      StringBuffer buf=request.getRequestURL();
      if (request.getQueryString() != null)       buf.append("?").append(request.getQueryString());
      if (j_uri.equals(buf.toString())) {
        return true;
      }
    }
    return false;
  }
}
