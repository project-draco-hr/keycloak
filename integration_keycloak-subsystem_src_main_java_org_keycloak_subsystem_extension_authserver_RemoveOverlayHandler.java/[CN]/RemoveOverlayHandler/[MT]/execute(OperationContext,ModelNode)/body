{
  String overlayName=AuthServerUtil.getOverlayName(operation);
  boolean isOverlayExists=AuthServerUtil.isOverlayExists(context,overlayName,PathAddress.EMPTY_ADDRESS);
  String overlayPath=operation.get(OVERLAY_FILE_PATH.getName()).asString();
  if (isOverlayExists) {
    PathAddress overlayAddress=AuthServerUtil.getOverlayAddress(overlayName);
    AbstractAddOverlayHandler.removeContent(context,overlayAddress,overlayPath);
  }
 else {
    context.setRollbackOnly();
    throw new OperationFailedException("Overlay path " + overlayPath + " not found.");
  }
  boolean isRedeploy=AbstractAddOverlayHandler.isRedeploy(context,operation);
  String deploymentName=AuthServerUtil.getDeploymentName(operation);
  if (isRedeploy)   AuthServerUtil.addStepToRedeployAuthServer(context,deploymentName);
  if (!isRedeploy)   context.restartRequired();
  context.stepCompleted();
}
