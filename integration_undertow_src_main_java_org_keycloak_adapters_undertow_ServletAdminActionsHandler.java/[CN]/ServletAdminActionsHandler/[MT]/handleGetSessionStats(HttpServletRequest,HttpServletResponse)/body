{
  log.info("K_GET_SESSION_STATS sent");
  JWSInput token=verifyAdminRequest(request,response);
  if (token == null)   return;
  SessionStatsAction action=JsonSerialization.readValue(token.getContent(),SessionStatsAction.class);
  if (!validateAction(response,action))   return;
  SessionStats stats=new SessionStats();
  stats.setActiveSessions(userSessionManagement.getActiveSessions());
  stats.setActiveUsers(userSessionManagement.getActiveUsers().size());
  if (action.isListUsers())   stats.setUsers(userSessionManagement.getActiveUsers());
  response.setStatus(200);
  JsonSerialization.writeValueToStream(response.getOutputStream(),stats);
  return;
}
