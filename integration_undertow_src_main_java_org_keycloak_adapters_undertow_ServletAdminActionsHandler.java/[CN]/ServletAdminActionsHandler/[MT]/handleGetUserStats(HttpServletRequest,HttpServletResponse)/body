{
  log.info("K_GET_USER_STATS sent");
  JWSInput token=verifyAdminRequest(request,response);
  if (token == null)   return;
  UserStatsAction action=JsonSerialization.readValue(token.getContent(),UserStatsAction.class);
  if (!validateAction(response,action))   return;
  UserStats stats=new UserStats();
  Long loginTime=userSessionManagement.getUserLoginTime(action.getUser());
  if (loginTime != null) {
    stats.setLoggedIn(true);
    stats.setWhenLoggedIn(loginTime);
  }
 else {
    stats.setLoggedIn(false);
  }
  response.setStatus(200);
  JsonSerialization.writeValueToStream(response.getOutputStream(),stats);
  return;
}
