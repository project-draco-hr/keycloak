{
  final NotificationReceiver logoutReceiver=new NotificationReceiver(){
    @Override public void handleNotification(    SecurityNotification notification){
      if (notification.getEventType() != SecurityNotification.EventType.LOGGED_OUT)       return;
      UndertowHttpFacade facade=new UndertowHttpFacade(notification.getExchange());
      KeycloakDeployment deployment=deploymentContext.resolveDeployment(facade);
      AdapterTokenStore tokenStore=getTokenStore(notification.getExchange(),facade,deployment,securityContext);
      tokenStore.logout();
    }
  }
;
  securityContext.registerNotificationReceiver(logoutReceiver);
}
