{
  log.debug("logoutKeycloakSession: " + keycloakSessionId);
  UserSessions sessions=keycloakSessionMap.remove(keycloakSessionId);
  if (sessions == null) {
    log.debug("no session for keycloak session id: " + keycloakSessionId);
    return;
  }
  String sessionId=sessions.keycloakSessionToHttpSession.remove(keycloakSessionId);
  if (sessionId == null) {
    log.debug("no session for keycloak session id: " + keycloakSessionId);
  }
  sessions.httpSessionToKeycloakSession.remove(sessionId);
  Session session=manager.getSession(sessionId);
  try {
    session.invalidate(null);
  }
 catch (  Exception e) {
    log.warn("Session already invalidated.");
  }
  if (sessions.keycloakSessionToHttpSession.size() == 0) {
    userSessionMap.remove(sessions.user);
  }
}
