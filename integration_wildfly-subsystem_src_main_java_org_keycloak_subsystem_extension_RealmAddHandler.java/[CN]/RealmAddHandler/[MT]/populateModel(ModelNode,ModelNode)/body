{
  if (!operation.get(OP).asString().equals(ADD)) {
    throw new OperationFailedException("Unexpected operation for add realm. operation=" + operation.toString());
  }
  for (  AttributeDefinition attrib : RealmDefinition.ALL_ATTRIBUTES) {
    attrib.validateAndSet(operation,model);
  }
  if (!RealmDefinition.validateTruststoreSetIfRequired(model.clone())) {
    throw new OperationFailedException("truststore and truststore-password must be set if both ssl-not-required and disable-trust-maanger are false.");
  }
}
