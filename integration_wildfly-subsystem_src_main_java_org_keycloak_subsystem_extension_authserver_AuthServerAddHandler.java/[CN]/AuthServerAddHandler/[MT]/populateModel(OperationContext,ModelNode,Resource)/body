{
  if (!operation.get(OP).asString().equals(ADD)) {
    throw new OperationFailedException("Unexpected operation for add Auth Server. operation=" + operation.toString());
  }
  ModelNode model=resource.getModel();
  for (  AttributeDefinition attr : AuthServerDefinition.ALL_ATTRIBUTES) {
    attr.validateAndSet(operation,model);
  }
  System.out.println("**************************");
  System.out.println("operation");
  System.out.println(operation.toString());
  System.out.println("**************************");
  System.out.println("model");
  System.out.println(model.toString());
  System.out.println("**************************");
  if (!requiresRuntime(context))   return;
  ModelNode isEnabled=model.get("enabled");
  if (!isEnabled.isDefined() || isEnabled.asBoolean()) {
    String deploymentName=AuthServerUtil.addStepToStartAuthServer(context,operation);
    ModelNode webContextNode=model.get(AuthServerDefinition.WEB_CONTEXT.getName());
    if (!webContextNode.isDefined())     webContextNode=AuthServerDefinition.WEB_CONTEXT.getDefaultValue();
    String webContext=webContextNode.asString();
    KeycloakAdapterConfigService.INSTANCE.addServerDeployment(deploymentName,json,webContext);
  }
}
