{
  List<UserCredentialValueModel> credentialModels=new ArrayList<UserCredentialValueModel>();
  for (  UserCredentialValueModel model : user.getCredentialsDirectly()) {
    if (model.getType().equals(credType)) {
      credentialModels.add(model);
    }
  }
  Collections.sort(credentialModels,new Comparator<UserCredentialValueModel>(){
    public int compare(    UserCredentialValueModel credFirst,    UserCredentialValueModel credSecond){
      if (credFirst.getCreatedDate() > credSecond.getCreatedDate()) {
        return -1;
      }
 else       if (credFirst.getCreatedDate() < credSecond.getCreatedDate()) {
        return 1;
      }
 else {
        return 0;
      }
    }
  }
);
  if (credentialModels.size() > expiredPasswordsPolicyValue) {
    return credentialModels.subList(0,expiredPasswordsPolicyValue);
  }
  return credentialModels;
}
