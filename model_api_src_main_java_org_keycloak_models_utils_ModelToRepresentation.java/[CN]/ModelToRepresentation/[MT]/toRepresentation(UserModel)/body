{
  UserRepresentation rep=new UserRepresentation();
  rep.setId(user.getId());
  rep.setUsername(user.getUsername());
  rep.setLastName(user.getLastName());
  rep.setFirstName(user.getFirstName());
  rep.setEmail(user.getEmail());
  rep.setEnabled(user.isEnabled());
  rep.setEmailVerified(user.isEmailVerified());
  rep.setTotp(user.isTotp());
  rep.setFederationLink(user.getFederationLink());
  List<String> reqActions=new ArrayList<String>();
  Set<String> requiredActions=user.getRequiredActions();
  for (  String ra : requiredActions) {
    reqActions.add(ra);
  }
  rep.setRequiredActions(reqActions);
  if (user.getAttributes() != null && !user.getAttributes().isEmpty()) {
    Map<String,Object> attrs=new HashMap<>();
    attrs.putAll(user.getAttributes());
    rep.setAttributes(attrs);
  }
  return rep;
}
