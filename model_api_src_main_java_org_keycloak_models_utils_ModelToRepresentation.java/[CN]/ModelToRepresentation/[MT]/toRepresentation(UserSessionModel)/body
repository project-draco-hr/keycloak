{
  UserSessionRepresentation rep=new UserSessionRepresentation();
  rep.setId(session.getId());
  rep.setStart(((long)session.getStarted()) * 1000L);
  rep.setLastAccess(((long)session.getLastSessionRefresh()) * 1000L);
  rep.setUser(session.getUser().getUsername());
  rep.setIpAddress(session.getIpAddress());
  for (  ClientModel client : session.getClientAssociations()) {
    if (client instanceof ApplicationModel) {
      rep.getApplications().add(client.getClientId());
    }
 else     if (client instanceof OAuthClientModel) {
      rep.getClients().put(client.getId(),client.getClientId());
    }
  }
  return rep;
}
