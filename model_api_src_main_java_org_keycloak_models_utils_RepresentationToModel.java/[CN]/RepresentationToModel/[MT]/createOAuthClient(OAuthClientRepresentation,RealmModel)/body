{
  OAuthClientModel model=createOAuthClient(rep.getId(),rep.getName(),realm);
  List<String> allowedIdentityProviders=rep.getAllowedIdentityProviders();
  if (allowedIdentityProviders == null || allowedIdentityProviders.isEmpty()) {
    allowedIdentityProviders=new ArrayList<String>();
    for (    IdentityProviderModel identityProvider : realm.getIdentityProviders()) {
      allowedIdentityProviders.add(identityProvider.getId());
    }
  }
  model.updateAllowedIdentityProviders(allowedIdentityProviders);
  updateOAuthClient(rep,model);
  return model;
}
