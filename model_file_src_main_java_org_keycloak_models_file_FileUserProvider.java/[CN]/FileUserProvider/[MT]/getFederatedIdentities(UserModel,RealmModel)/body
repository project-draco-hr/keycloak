{
  UserEntity userEntity=((UserAdapter)getUserById(userModel.getId(),realm)).getUserEntity();
  List<FederatedIdentityEntity> linkEntities=userEntity.getFederatedIdentities();
  if (linkEntities == null) {
    return Collections.EMPTY_SET;
  }
  Set<FederatedIdentityModel> result=new HashSet<FederatedIdentityModel>();
  for (  FederatedIdentityEntity federatedIdentityEntity : linkEntities) {
    FederatedIdentityModel model=new FederatedIdentityModel(federatedIdentityEntity.getIdentityProvider(),federatedIdentityEntity.getUserId(),federatedIdentityEntity.getUserName());
    result.add(model);
  }
  return result;
}
