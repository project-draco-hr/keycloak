{
  List<OfflineClientSessionModel> result=new LinkedList<>();
  List<UserModel> users=new ArrayList<>(inMemoryModel.getUsers(realm.getId()));
  users=sortedSubList(users,firstResult,maxResults);
  for (  UserModel userModel : users) {
    UserEntity user=((UserAdapter)userModel).getUserEntity();
    for (    OfflineUserSessionEntity userSession : user.getOfflineUserSessions()) {
      for (      OfflineClientSessionEntity clSession : userSession.getOfflineClientSessions()) {
        if (clSession.getClientId().equals(client.getId())) {
          result.add(toModel(clSession,userSession.getUserSessionId()));
        }
      }
    }
  }
  return result;
}
