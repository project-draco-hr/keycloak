{
synchronized (allModels) {
    if (!allModels.containsKey(session))     return;
    try {
      writeModelFile();
    }
  finally {
      allModels.remove(session);
    }
  }
}
