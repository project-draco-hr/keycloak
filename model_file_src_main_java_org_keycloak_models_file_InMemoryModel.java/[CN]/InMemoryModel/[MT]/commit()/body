{
  commitCount++;
synchronized (allModels) {
    if (!allModels.containsKey(session))     return;
    try {
      writeModelFile();
    }
  finally {
      allModels.remove(session);
      logger.info("Removed session " + session.hashCode());
      logger.info("*** commitCount=" + commitCount);
      logger.info("commit(): Session count=" + allModels.size());
    }
  }
}
