{
  if (!cache.isEnabled())   return getDelegate().getRealm(id);
  CachedRealm cached=cache.getCachedRealm(id);
  if (cached == null) {
    RealmModel model=getDelegate().getRealm(id);
    if (model == null)     return null;
    if (realmInvalidations.contains(id))     return model;
    cached=new CachedRealm(cache,this,model);
    cache.addCachedRealm(cached);
  }
 else   if (realmInvalidations.contains(id)) {
    return getDelegate().getRealm(id);
  }
 else   if (managedRealms.containsKey(id)) {
    return managedRealms.get(id);
  }
  RealmAdapter adapter=new RealmAdapter(cached,this);
  managedRealms.put(id,adapter);
  return adapter;
}
