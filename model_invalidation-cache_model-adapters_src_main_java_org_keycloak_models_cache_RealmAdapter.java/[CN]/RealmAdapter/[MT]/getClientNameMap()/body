{
  if (updated != null)   return updated.getClientNameMap();
  Map<String,ClientModel> map=new HashMap<String,ClientModel>();
  for (  String id : cached.getApplications().values()) {
    ClientModel model=cacheSession.getClientById(id,this);
    if (model == null) {
      throw new IllegalStateException("Cached application not found: " + id);
    }
    map.put(model.getClientId(),model);
  }
  return map;
}
