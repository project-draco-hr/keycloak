{
  if (updated != null)   return updated.getComposites();
  Set<RoleModel> set=new HashSet<RoleModel>();
  for (  String id : cached.getComposites()) {
    RoleModel role=realm.getRoleById(id);
    if (role == null) {
      throw new IllegalStateException("Could not find composite: " + id);
    }
    set.add(role);
  }
  return set;
}
