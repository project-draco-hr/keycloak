{
  TypedQuery<ProtocolMapperEntity> query=em.createNamedQuery("getProtocolMapperByName",ProtocolMapperEntity.class);
  query.setParameter("name",name);
  query.setParameter("realm",entity.getRealm());
  List<ProtocolMapperEntity> entities=query.getResultList();
  if (entities.size() == 0)   return null;
  if (entities.size() > 1)   throw new IllegalStateException("Should not be more than one protocol mapper with same name");
  return query.getResultList().get(0);
}
