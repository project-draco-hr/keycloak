{
  if (em.getTransaction().isActive())   em.getTransaction().rollback();
  if (em.isOpen())   em.close();
}
