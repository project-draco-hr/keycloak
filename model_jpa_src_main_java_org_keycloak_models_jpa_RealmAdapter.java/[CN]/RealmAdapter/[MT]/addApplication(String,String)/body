{
  ApplicationEntity applicationData=new ApplicationEntity();
  applicationData.setId(id);
  applicationData.setName(name);
  applicationData.setEnabled(true);
  applicationData.setRealm(realm);
  realm.getApplications().add(applicationData);
  em.persist(applicationData);
  em.flush();
  final ApplicationModel resource=new ApplicationAdapter(this,em,session,applicationData);
  em.flush();
  session.getKeycloakSessionFactory().publish(new ApplicationCreationEvent(){
    @Override public ApplicationModel getCreatedApplication(){
      return resource;
    }
    @Override public ClientModel getCreatedClient(){
      return resource;
    }
  }
);
  return resource;
}
