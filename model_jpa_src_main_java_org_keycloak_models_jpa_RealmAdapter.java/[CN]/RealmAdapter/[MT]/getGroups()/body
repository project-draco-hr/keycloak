{
  List<GroupEntity> groups=em.createNamedQuery("getAllGroupsByRealm").setParameter("realm",realm).getResultList();
  if (groups == null)   return Collections.EMPTY_LIST;
  List<GroupModel> list=new LinkedList<>();
  for (  GroupEntity entity : groups) {
    list.add(new GroupAdapter(this,em,entity));
  }
  return Collections.unmodifiableList(list);
}
