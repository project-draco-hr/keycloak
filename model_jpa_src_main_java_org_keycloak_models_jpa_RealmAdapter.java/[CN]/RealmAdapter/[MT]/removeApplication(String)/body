{
  if (id == null)   return false;
  ApplicationModel application=getApplicationById(id);
  if (application == null)   return false;
  for (  RoleModel role : application.getRoles()) {
    application.removeRole(role);
  }
  ApplicationEntity applicationEntity=null;
  Iterator<ApplicationEntity> it=realm.getApplications().iterator();
  while (it.hasNext()) {
    ApplicationEntity ae=it.next();
    if (ae.getId().equals(id)) {
      applicationEntity=ae;
      it.remove();
      break;
    }
  }
  for (  ApplicationEntity a : realm.getApplications()) {
    if (a.getId().equals(id)) {
      applicationEntity=a;
    }
  }
  if (application == null) {
    return false;
  }
  em.remove(applicationEntity);
  em.createQuery("delete from " + ScopeMappingEntity.class.getSimpleName() + " where client = :client").setParameter("client",applicationEntity).executeUpdate();
  em.flush();
  return true;
}
