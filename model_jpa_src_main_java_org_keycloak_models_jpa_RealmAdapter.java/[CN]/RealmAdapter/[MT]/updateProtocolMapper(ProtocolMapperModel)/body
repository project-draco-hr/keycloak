{
  ProtocolMapperEntity entity=getProtocolMapper(mapping.getId());
  entity.setProtocolMapper(mapping.getProtocolMapper());
  entity.setAppliedByDefault(mapping.isAppliedByDefault());
  entity.setConsentRequired(mapping.isConsentRequired());
  entity.setConsentText(mapping.getConsentText());
  if (entity.getConfig() == null) {
    entity.setConfig(mapping.getConfig());
  }
 else {
    entity.getConfig().clear();
    entity.getConfig().putAll(mapping.getConfig());
  }
  em.flush();
}
