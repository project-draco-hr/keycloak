{
  if (role instanceof ApplicationRoleEntity) {
    ApplicationRoleEntity entity=(ApplicationRoleEntity)role;
    return new ApplicationAdapter(realm,em,entity.getApplication());
  }
 else   if (role instanceof RealmRoleEntity) {
    RealmRoleEntity entity=(RealmRoleEntity)role;
    return new RealmAdapter(em,entity.getRealm());
  }
  throw new IllegalStateException("Unknown role entity type");
}
