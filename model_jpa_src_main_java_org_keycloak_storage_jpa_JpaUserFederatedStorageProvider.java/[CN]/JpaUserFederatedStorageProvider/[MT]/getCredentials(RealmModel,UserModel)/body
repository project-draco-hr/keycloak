{
  TypedQuery<FederatedUserCredentialEntity> query=em.createNamedQuery("federatedUserCredentialByUser",FederatedUserCredentialEntity.class).setParameter("userId",user.getId());
  List<FederatedUserCredentialEntity> results=query.getResultList();
  List<UserCredentialValueModel> list=new LinkedList<>();
  for (  FederatedUserCredentialEntity credEntity : results) {
    UserCredentialValueModel credModel=new UserCredentialValueModel();
    credModel.setId(credEntity.getId());
    credModel.setType(credEntity.getType());
    credModel.setDevice(credEntity.getDevice());
    credModel.setValue(credEntity.getValue());
    credModel.setCreatedDate(credEntity.getCreatedDate());
    credModel.setSalt(credEntity.getSalt());
    credModel.setHashIterations(credEntity.getHashIterations());
    credModel.setCounter(credEntity.getCounter());
    credModel.setAlgorithm(credEntity.getAlgorithm());
    credModel.setDigits(credEntity.getDigits());
    credModel.setPeriod(credEntity.getPeriod());
    list.add(credModel);
  }
  return list;
}
