{
  String clientId=consent.getClient().getId();
  FederatedUserConsentEntity consentEntity=getGrantedConsentEntity(user,clientId);
  if (consentEntity == null) {
    throw new ModelException("Consent not found for client [" + clientId + "] and user ["+ user.getId()+ "]");
  }
  updateGrantedConsentEntity(consentEntity,consent);
}
