{
  Object dbObject=context.getObjectToConvert();
  Class<?> expectedApplicationObjectType=context.getExpectedReturnType();
  Class<?> dbObjectType=dbObject.getClass();
  Converter<Object,Object> converter;
  Map<Class<?>,Converter<?,?>> appObjects=dbObjectConverters.get(dbObjectType);
  if (appObjects == null) {
    throw new IllegalArgumentException("Not found any converters for type " + dbObjectType);
  }
 else {
    if (appObjects.size() == 1) {
      converter=(Converter<Object,Object>)appObjects.values().iterator().next();
    }
 else {
      converter=(Converter<Object,Object>)getAppConverterForType(context.getExpectedReturnType(),appObjects);
    }
  }
  if (converter == null) {
    throw new IllegalArgumentException("Can't found converter for type " + dbObjectType + " and expectedApplicationType "+ expectedApplicationObjectType);
  }
  return converter.convertObject(context);
}
