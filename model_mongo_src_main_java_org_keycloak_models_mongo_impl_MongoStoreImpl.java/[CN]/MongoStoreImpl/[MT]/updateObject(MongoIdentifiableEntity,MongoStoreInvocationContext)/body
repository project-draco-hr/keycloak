{
  MongoTask fullUpdateTask=new MongoTask(){
    @Override public void execute(){
      Class<? extends MongoEntity> clazz=object.getClass();
      ObjectInfo objectInfo=getObjectInfo(clazz);
      BasicDBObject dbObject=typeConverter.convertApplicationObjectToDBObject(object,BasicDBObject.class);
      DBCollection dbCollection=database.getCollection(objectInfo.getDbCollectionName());
      String currentId=object.getId();
      if (currentId == null) {
        throw new IllegalStateException("Can't update object without id: " + object);
      }
 else {
        BasicDBObject query=new BasicDBObject("_id",getObjectId(currentId));
        dbCollection.update(query,dbObject);
      }
    }
    @Override public boolean isFullUpdate(){
      return true;
    }
  }
;
  context.addUpdateTask(object,fullUpdateTask);
}
