{
  if (dbObject instanceof BasicDBObject) {
    BasicDBObject basicDBObject=(BasicDBObject)dbObject;
    String type=(String)basicDBObject.get(ListConverter.OBJECT_TYPE);
    if (type == null) {
      throw new IllegalStateException("Not found OBJECT_TYPE key inside object " + dbObject);
    }
    basicDBObject.remove(ListConverter.OBJECT_TYPE);
    try {
      return Class.forName(type);
    }
 catch (    ClassNotFoundException cnfe) {
      throw new RuntimeException(cnfe);
    }
  }
 else {
    if (String.class.equals(dbObject.getClass())) {
      String dbObjString=(String)dbObject;
      if (dbObjString.contains(ClassCache.SPLIT)) {
        String className=dbObjString.substring(0,dbObjString.indexOf(ClassCache.SPLIT));
        return ClassCache.getInstance().getOrLoadClass(className);
      }
    }
    return dbObject.getClass();
  }
}
