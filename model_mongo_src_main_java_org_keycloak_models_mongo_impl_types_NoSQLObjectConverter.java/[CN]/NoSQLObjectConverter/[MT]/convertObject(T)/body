{
  ObjectInfo objectInfo=mongoDBImpl.getObjectInfo(applicationObject.getClass());
  BasicDBObject dbObject=new BasicDBObject();
  Collection<Property<Object>> props=objectInfo.getProperties();
  for (  Property<Object> property : props) {
    String propName=property.getName();
    Object propValue=property.getValue(applicationObject);
    Object dbValue=propValue == null ? null : typeConverter.convertApplicationObjectToDBObject(propValue,Object.class);
    dbObject.put(propName,dbValue);
  }
  if (applicationObject instanceof AttributedNoSQLObject) {
    AttributedNoSQLObject attributedObject=(AttributedNoSQLObject)applicationObject;
    Map<String,String> attributes=attributedObject.getAttributes();
    for (    Map.Entry<String,String> attribute : attributes.entrySet()) {
      dbObject.append(attribute.getKey(),attribute.getValue());
    }
  }
  return dbObject;
}
