{
  String clientId=consent.getClient().getId();
  if (getConsentEntityByClientId(userId,clientId) != null) {
    throw new ModelDuplicateException("Consent already exists for client [" + clientId + "] and user ["+ userId+ "]");
  }
  MongoUserConsentEntity consentEntity=new MongoUserConsentEntity();
  consentEntity.setUserId(userId);
  consentEntity.setClientId(clientId);
  fillEntityFromModel(consent,consentEntity);
  getMongoStore().insertEntity(consentEntity,invocationContext);
}
