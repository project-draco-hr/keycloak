{
  user=getUserById(user.getId(),realm);
  MongoUserEntity userEntity=((UserAdapter)user).getUser();
  FederatedIdentityEntity federatedIdentityEntity=findFederatedIdentityLink(userEntity,socialProvider);
  return federatedIdentityEntity != null ? new FederatedIdentityModel(federatedIdentityEntity.getIdentityProvider(),federatedIdentityEntity.getUserId(),federatedIdentityEntity.getUserName(),federatedIdentityEntity.getToken()) : null;
}
