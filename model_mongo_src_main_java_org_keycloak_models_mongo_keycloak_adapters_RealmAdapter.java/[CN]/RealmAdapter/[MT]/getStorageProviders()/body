{
  List<StorageProviderEntity> entities=realm.getStorageProviders();
  if (entities.isEmpty())   return Collections.EMPTY_LIST;
  List<StorageProviderEntity> copy=new LinkedList<>();
  for (  StorageProviderEntity entity : entities) {
    copy.add(entity);
  }
  Collections.sort(copy,new Comparator<StorageProviderEntity>(){
    @Override public int compare(    StorageProviderEntity o1,    StorageProviderEntity o2){
      return o1.getPriority() - o2.getPriority();
    }
  }
);
  List<StorageProviderModel> result=new LinkedList<>();
  for (  StorageProviderEntity entity : copy) {
    result.add(new StorageProviderModel(entity.getId(),entity.getProviderName(),entity.getConfig(),entity.getPriority(),entity.getDisplayName()));
  }
  return Collections.unmodifiableList(result);
}
