{
  Iterator<StorageProviderEntity> it=realm.getStorageProviders().iterator();
  while (it.hasNext()) {
    StorageProviderEntity entity=it.next();
    if (entity.getId().equals(provider.getId())) {
      session.users().preRemove(this,new StorageProviderModel(entity.getId(),entity.getProviderName(),entity.getConfig(),entity.getPriority(),entity.getDisplayName()));
      it.remove();
    }
  }
  updateRealm();
}
