{
  ComponentUtil.getComponentFactory(session,model).validateConfiguration(session,model);
  for (  ComponentEntity entity : realm.getComponentEntities()) {
    if (entity.getId().equals(model.getId())) {
      entity.setConfig(model.getConfig());
      entity.setParentId(model.getParentId());
      entity.setProviderType(model.getProviderType());
      entity.setProviderId(model.getProviderId());
      entity.setName(model.getName());
    }
  }
  updateRealm();
}
