{
  OfflineUserSessionEntity userSessionEntity=getUserSessionEntityById(clientSession.getUserSessionId());
  if (userSessionEntity == null) {
    throw new ModelException("OfflineUserSession with ID " + clientSession.getUserSessionId() + " doesn't exist for user "+ getMongoEntity().getUsername());
  }
  OfflineClientSessionEntity clEntity=new OfflineClientSessionEntity();
  clEntity.setClientSessionId(clientSession.getClientSessionId());
  clEntity.setClientId(clientSession.getClientId());
  clEntity.setData(clientSession.getData());
  userSessionEntity.getOfflineClientSessions().add(clEntity);
  updateUser();
}
