{
  MongoStore mongoStore=invContext.getMongoStore();
  DBObject query=new QueryBuilder().and("scopeIds").is(getId()).get();
  List<MongoClientEntity> clients=mongoStore.loadEntities(MongoClientEntity.class,query,invContext);
  for (  MongoClientEntity client : clients) {
    mongoStore.pullItemFromList(client,"scopeIds",getId(),invContext);
  }
  if (getRealmId() != null) {
    MongoRealmEntity realmEntity=mongoStore.loadEntity(MongoRealmEntity.class,getRealmId(),invContext);
    if (realmEntity != null) {
      mongoStore.pullItemFromList(realmEntity,"defaultRoles",getName(),invContext);
    }
  }
  if (getClientId() != null) {
    MongoClientEntity appEntity=mongoStore.loadEntity(MongoClientEntity.class,getClientId(),invContext);
    if (appEntity != null) {
      mongoStore.pullItemFromList(appEntity,"defaultRoles",getName(),invContext);
    }
  }
  query=new QueryBuilder().and("compositeRoleIds").is(getId()).get();
  List<MongoRoleEntity> parentRoles=mongoStore.loadEntities(MongoRoleEntity.class,query,invContext);
  for (  MongoRoleEntity role : parentRoles) {
    mongoStore.pullItemFromList(role,"compositeRoleIds",getId(),invContext);
  }
}
