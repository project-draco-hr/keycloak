{
  ApplicationData applicationData=new ApplicationData(IdGenerator.generateId());
  User resourceUser=new User(name);
  idm.add(resourceUser);
  applicationData.setResourceUser(resourceUser);
  applicationData.setResourceName(name);
  applicationData.setResourceUser(resourceUser);
  partitionManager.add(applicationData);
  ApplicationRelationship resourceRelationship=new ApplicationRelationship();
  resourceRelationship.setRealm(realm.getName());
  resourceRelationship.setApplication(applicationData.getName());
  getRelationshipManager().add(resourceRelationship);
  ApplicationModel resource=new ApplicationAdapter(applicationData,this,partitionManager);
  resource.addRole("*");
  resource.addScopeMapping(new UserAdapter(resourceUser,idm),"*");
  return resource;
}
