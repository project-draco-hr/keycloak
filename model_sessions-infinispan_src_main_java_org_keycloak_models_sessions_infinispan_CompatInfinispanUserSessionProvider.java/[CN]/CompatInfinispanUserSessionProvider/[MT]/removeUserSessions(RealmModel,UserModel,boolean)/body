{
  Cache<String,SessionEntity> cache=getCache(offline);
  Map<String,String> sessions=new MapReduceTask(cache).mappedWith(UserSessionMapper.create(realm.getId()).user(user.getId()).emitKey()).reducedWith(new FirstResultReducer()).execute();
  for (  String id : sessions.keySet()) {
    removeUserSession(realm,id,offline);
  }
}
