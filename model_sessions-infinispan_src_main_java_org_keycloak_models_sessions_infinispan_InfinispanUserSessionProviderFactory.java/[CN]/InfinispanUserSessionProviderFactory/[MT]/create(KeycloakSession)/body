{
  InfinispanConnectionProvider connections=session.getProvider(InfinispanConnectionProvider.class);
  Cache<String,SessionEntity> cache=connections.getCache(SESSION_CACHE_NAME);
  Cache<String,LoginFailureEntity> loginFailures=connections.getCache(LOGIN_FAILURE_CACHE_NAME);
  return new InfinispanUserSessionProvider(session,cache,loginFailures);
}
