{
  boolean exists=false;
  for (  ClientSessionAuthStatusEntity authStatus : entity.getAuthanticatorStatus()) {
    if (authStatus.getAuthenticator().equals(authenticator)) {
      authStatus.setStatus(status);
      exists=true;
    }
  }
  if (!exists) {
    ClientSessionAuthStatusEntity authStatus=new ClientSessionAuthStatusEntity();
    authStatus.setAuthenticator(authenticator);
    authStatus.setClientSession(entity);
    authStatus.setStatus(status);
    em.persist(authStatus);
    entity.getAuthanticatorStatus().add(authStatus);
  }
  em.flush();
}
