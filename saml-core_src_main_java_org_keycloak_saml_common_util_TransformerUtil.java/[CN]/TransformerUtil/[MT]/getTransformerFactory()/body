{
  if (transformerFactory == null) {
    boolean tccl_jaxp=SystemPropertiesUtil.getSystemProperty(GeneralConstants.TCCL_JAXP,"false").equalsIgnoreCase("true");
    ClassLoader prevTCCL=SecurityActions.getTCCL();
    try {
      if (tccl_jaxp) {
        SecurityActions.setTCCL(TransformerUtil.class.getClassLoader());
      }
      transformerFactory=TransformerFactory.newInstance();
    }
  finally {
      if (tccl_jaxp) {
        SecurityActions.setTCCL(prevTCCL);
      }
    }
  }
  return transformerFactory;
}
