{
  SAMLDocumentHolder holder=null;
  boolean postBinding=false;
  if (facade.getRequest().getMethod().equalsIgnoreCase("GET")) {
    holder=SAMLRequestParser.parseRequestRedirectBinding(samlRequest);
  }
 else {
    postBinding=true;
    holder=SAMLRequestParser.parseRequestPostBinding(samlRequest);
  }
  RequestAbstractType requestAbstractType=(RequestAbstractType)holder.getSamlObject();
  if (!facade.getRequest().getURI().toString().equals(requestAbstractType.getDestination())) {
    throw new RuntimeException("destination not equal to request");
  }
  validateSamlSignature(holder,postBinding,GeneralConstants.SAML_REQUEST_KEY);
  if (requestAbstractType instanceof LogoutRequestType) {
    LogoutRequestType logout=(LogoutRequestType)requestAbstractType;
    return logoutRequest(logout,relayState);
  }
 else {
    throw new RuntimeException("unknown SAML request type");
  }
}
