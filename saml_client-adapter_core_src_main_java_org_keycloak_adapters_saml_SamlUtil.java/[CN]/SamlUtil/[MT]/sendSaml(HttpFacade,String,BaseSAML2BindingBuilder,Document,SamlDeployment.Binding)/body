{
  if (samlBinding == SamlDeployment.Binding.POST) {
    String html=binding.postBinding(document).getHtmlRequest(actionUrl);
    httpFacade.getResponse().setStatus(200);
    httpFacade.getResponse().setHeader("Content-Type","text/html");
    httpFacade.getResponse().setHeader("Pragma","no-cache");
    httpFacade.getResponse().setHeader("Cache-Control","no-cache, no-store");
    httpFacade.getResponse().getOutputStream().write(html.getBytes());
    httpFacade.getResponse().end();
  }
 else {
    String uri=binding.redirectBinding(document).requestURI(actionUrl).toString();
    httpFacade.getResponse().setStatus(302);
    httpFacade.getResponse().setHeader("Location",uri);
  }
}
