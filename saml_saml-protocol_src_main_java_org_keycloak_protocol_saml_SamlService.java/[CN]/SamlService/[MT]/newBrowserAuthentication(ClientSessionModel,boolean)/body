{
  LoginProtocol protocol=session.getProvider(LoginProtocol.class,clientSession.getAuthMethod());
  protocol.setRealm(realm).setHttpHeaders(request.getHttpHeaders()).setUriInfo(uriInfo).setEventBuilder(event);
  return handleBrowserAuthenticationRequest(clientSession,protocol,isPassive);
}
