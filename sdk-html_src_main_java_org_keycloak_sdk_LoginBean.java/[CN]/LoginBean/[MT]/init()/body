{
  HttpServletRequest request=(HttpServletRequest)FacesContext.getCurrentInstance().getExternalContext().getRequest();
  realm=(RealmModel)request.getAttribute(RealmModel.class.getName());
  clientId=(String)request.getAttribute("client_id");
  scope=(String)request.getAttribute("scope");
  state=(String)request.getAttribute("state");
  redirectUri=(String)request.getAttribute("redirect_uri");
  loginAction=((URI)request.getAttribute("KEYCLOAK_LOGIN_ACTION")).toString();
  socialLoginUrl=((URI)request.getAttribute("KEYCLOAK_SOCIAL_LOGIN")).toString();
  username=(String)request.getAttribute("username");
  providers=new LinkedList<SocialProvider>();
  for (Iterator<org.keycloak.social.SocialProvider> itr=ServiceRegistry.lookupProviders(org.keycloak.social.SocialProvider.class); itr.hasNext(); ) {
    org.keycloak.social.SocialProvider p=itr.next();
    providers.add(new SocialProvider(p.getId(),p.getName()));
  }
  requiredCredentials=new LinkedList<RequiredCredential>();
  for (  RequiredCredentialModel m : realm.getRequiredCredentials()) {
    if (m.isInput()) {
      requiredCredentials.add(new RequiredCredential(m.getType(),m.isSecret()));
    }
  }
  baseUrl=FacesContext.getCurrentInstance().getExternalContext().getRequestContextPath() + "/sdk";
  themeUrl=baseUrl + "/theme/" + style;
}
