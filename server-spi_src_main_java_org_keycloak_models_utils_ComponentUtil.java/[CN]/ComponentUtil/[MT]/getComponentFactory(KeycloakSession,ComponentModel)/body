{
  Class<? extends Provider> provider=session.getProviderClass(component.getProviderType());
  if (provider == null) {
    throw new RuntimeException("Invalid provider type '" + component.getProviderType() + "'");
  }
  ProviderFactory<? extends Provider> f=session.getKeycloakSessionFactory().getProviderFactory(provider,component.getProviderId());
  if (f == null) {
    throw new RuntimeException("No such provider '" + component.getProviderId() + "'");
  }
  ComponentFactory cf=(ComponentFactory)f;
  return cf;
}
