{
  StorageProviderModel model=realm.getStorageProvider(providerId);
  if (model == null)   return null;
  StorageProviderFactory factory=(StorageProviderFactory)session.getKeycloakSessionFactory().getProviderFactory(StorageProvider.class,model.getProviderName());
  if (factory == null) {
    throw new ModelException("Could not find StorageProviderFactory for: " + model.getProviderName());
  }
  return factory.getInstance(session,model);
}
