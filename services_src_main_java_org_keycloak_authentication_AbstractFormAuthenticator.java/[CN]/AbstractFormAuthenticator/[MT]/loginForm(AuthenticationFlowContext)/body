{
  String accessCode=context.generateAccessCode();
  URI action=getActionUrl(context,accessCode);
  LoginFormsProvider provider=context.getSession().getProvider(LoginFormsProvider.class).setUser(context.getUser()).setActionUri(action).setClientSessionCode(accessCode);
  if (context.getForwardedErrorMessage() != null) {
    provider.setError(context.getForwardedErrorMessage());
  }
  return provider;
}
