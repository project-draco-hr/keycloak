{
  ClientSessionCode code=new ClientSessionCode(context.getRealm(),context.getClientSession());
  code.setAction(ClientSessionModel.Action.AUTHENTICATE.name());
  URI action=getActionUrl(context,code,LOGIN_FORM_ACTION);
  LoginFormsProvider provider=context.getSession().getProvider(LoginFormsProvider.class).setUser(context.getUser()).setActionUri(action).setClientSessionCode(code.getCode());
  if (context.getForwardedErrorMessage() != null) {
    provider.setError(context.getForwardedErrorMessage());
  }
  return provider;
}
