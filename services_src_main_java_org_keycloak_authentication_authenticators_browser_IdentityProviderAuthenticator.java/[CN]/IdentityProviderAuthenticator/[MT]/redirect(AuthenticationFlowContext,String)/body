{
  List<IdentityProviderModel> identityProviders=context.getRealm().getIdentityProviders();
  for (  IdentityProviderModel identityProvider : identityProviders) {
    if (identityProvider.isEnabled() && providerId.equals(identityProvider.getAlias())) {
      String accessCode=new ClientSessionCode(context.getRealm(),context.getClientSession()).getCode();
      Response response=Response.status(302).location(Urls.identityProviderAuthnRequest(context.getUriInfo().getBaseUri(),providerId,context.getRealm().getName(),accessCode)).build();
      LOG.debugf("Redirecting to %s",providerId);
      context.forceChallenge(response);
      return;
    }
  }
  LOG.warnf("Provider not found or not enabled for realm %s",providerId);
  context.attempted();
}
