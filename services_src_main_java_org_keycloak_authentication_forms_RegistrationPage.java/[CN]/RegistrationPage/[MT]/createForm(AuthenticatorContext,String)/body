{
  AuthenticationExecutionModel.Requirement categoryRequirement=context.getCategoryRequirementFromCurrentFlow(UserCredentialModel.PASSWORD);
  boolean passwordRequired=categoryRequirement != null && categoryRequirement != AuthenticationExecutionModel.Requirement.DISABLED;
  String code=context.generateAccessCode();
  URI actionUrl=getActionUrl(context,executionId,code);
  return context.getSession().getProvider(LoginFormsProvider.class).setAttribute("passwordRequired",passwordRequired).setActionUri(actionUrl).setClientSessionCode(code);
}
