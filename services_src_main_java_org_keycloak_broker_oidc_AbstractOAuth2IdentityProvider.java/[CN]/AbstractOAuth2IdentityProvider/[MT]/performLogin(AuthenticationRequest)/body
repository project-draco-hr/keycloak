{
  try {
    URI authorizationUrl=createAuthorizationUrl(request).build();
    return Response.status(302).location(authorizationUrl).build();
  }
 catch (  Exception e) {
    throw new IdentityBrokerException("Could not create authentication request.",e);
  }
}
