{
  IDToken token=new IDToken();
  token.id(KeycloakModelUtils.generateId());
  token.subject(user.getId());
  token.audience(claimer.getClientId());
  token.issuedNow();
  token.issuedFor(client.getUsername());
  token.issuer(realm.getName());
  if (realm.getAccessTokenLifespan() > 0) {
    token.expiration(Time.currentTime() + realm.getAccessTokenLifespan());
  }
  UserClaimSet claimSet=token.getUserClaimSet();
  initClaims(claimSet,claimer,user);
  return token;
}
