{
switch (action) {
case REGISTER:
    return buildRegister();
case CODE:
  return buildAuthorizationCodeAuthorizationResponse();
}
throw new RuntimeException("Unknown action " + action);
}
