{
  String accessCode=new ClientSessionCode(realm,clientSession).getCode();
  if (idpHint != null && !"".equals(idpHint)) {
    IdentityProviderModel identityProviderModel=realm.getIdentityProviderByAlias(idpHint);
    if (identityProviderModel == null) {
      return session.getProvider(LoginFormsProvider.class).setError(Messages.IDENTITY_PROVIDER_NOT_FOUND,idpHint).createErrorPage();
    }
    return buildRedirectToIdentityProvider(idpHint,accessCode);
  }
  return oldBrowserAuthentication(accessCode);
}
