{
  clientSession=session.sessions().createClientSession(realm,client);
  clientSession.setAuthMethod(OIDCLoginProtocol.LOGIN_PROTOCOL);
  clientSession.setRedirectUri(redirectUri);
  clientSession.setAction(ClientSessionModel.Action.AUTHENTICATE.name());
  clientSession.setNote(OIDCLoginProtocol.RESPONSE_TYPE_PARAM,responseType);
  clientSession.setNote(OIDCLoginProtocol.REDIRECT_URI_PARAM,redirectUriParam);
  clientSession.setNote(OIDCLoginProtocol.ISSUER,Urls.realmIssuer(uriInfo.getBaseUri(),realm.getName()));
  if (state != null)   clientSession.setNote(OIDCLoginProtocol.STATE_PARAM,state);
  if (nonce != null)   clientSession.setNote(OIDCLoginProtocol.NONCE_PARAM,nonce);
  if (maxAge != null)   clientSession.setNote(OIDCLoginProtocol.MAX_AGE_PARAM,maxAge);
  if (scope != null)   clientSession.setNote(OIDCLoginProtocol.SCOPE_PARAM,scope);
  if (loginHint != null)   clientSession.setNote(OIDCLoginProtocol.LOGIN_HINT_PARAM,loginHint);
  if (prompt != null)   clientSession.setNote(OIDCLoginProtocol.PROMPT_PARAM,prompt);
  if (idpHint != null)   clientSession.setNote(AdapterConstants.KC_IDP_HINT,idpHint);
  if (responseMode != null)   clientSession.setNote(OIDCLoginProtocol.RESPONSE_MODE_PARAM,responseMode);
  if (additionalReqParams != null) {
    for (    String paramName : additionalReqParams.keySet()) {
      clientSession.setNote(CLIENT_SESSION_NOTE_ADDITIONAL_REQ_PARAMS_PREFIX + paramName,additionalReqParams.get(paramName));
    }
  }
}
