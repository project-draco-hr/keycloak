{
  if (realm.getName().equals(Config.getAdminRealm())) {
    return;
  }
  ApplicationManager applicationManager=new ApplicationManager(new RealmManager(session));
  String realmAdminApplicationName=getRealmAdminApplicationName(realm);
  ApplicationModel realmAdminApp=realm.getApplicationByName(realmAdminApplicationName);
  if (realmAdminApp == null) {
    realmAdminApp=applicationManager.createApplication(realm,realmAdminApplicationName);
  }
  RoleModel adminRole=realmAdminApp.addRole(AdminRoles.REALM_ADMIN);
  realmAdminApp.setBearerOnly(true);
  for (  String r : AdminRoles.ALL_REALM_ROLES) {
    RoleModel role=realmAdminApp.addRole(r);
    adminRole.addCompositeRole(role);
  }
}
