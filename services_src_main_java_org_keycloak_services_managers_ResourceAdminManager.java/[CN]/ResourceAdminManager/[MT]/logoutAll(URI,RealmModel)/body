{
  ApacheHttpClient4Executor executor=createExecutor();
  try {
    realm.setNotBefore(Time.currentTime());
    List<ApplicationModel> resources=realm.getApplications();
    logger.debugv("logging out {0} resources ",resources.size());
    for (    ApplicationModel resource : resources) {
      logoutApplication(requestUri,realm,resource,null,null,executor,realm.getNotBefore());
    }
  }
  finally {
    executor.getHttpClient().getConnectionManager().shutdown();
  }
}
