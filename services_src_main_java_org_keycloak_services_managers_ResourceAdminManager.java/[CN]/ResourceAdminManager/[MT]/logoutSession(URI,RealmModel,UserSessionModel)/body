{
  ApacheHttpClient4Executor executor=createExecutor();
  try {
    MultivaluedHashMap<ApplicationModel,ClientSessionModel> clientSessions=new MultivaluedHashMap<ApplicationModel,ClientSessionModel>();
    putClientSessions(clientSessions,session);
    logger.debugv("logging out {0} resources ",clientSessions.size());
    for (    Map.Entry<ApplicationModel,List<ClientSessionModel>> entry : clientSessions.entrySet()) {
      logoutClientSessions(requestUri,realm,entry.getKey(),entry.getValue(),executor);
    }
  }
  finally {
    executor.getHttpClient().getConnectionManager().shutdown();
  }
}
