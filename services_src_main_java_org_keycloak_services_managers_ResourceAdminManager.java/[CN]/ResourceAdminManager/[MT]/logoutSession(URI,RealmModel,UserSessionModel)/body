{
  ApacheHttpClient4Executor executor=createExecutor();
  try {
    List<ApplicationModel> resources=new LinkedList<ApplicationModel>();
    for (    ClientSessionModel clientSession : session.getClientSessions()) {
      ClientModel client=clientSession.getClient();
      if (client instanceof ApplicationModel) {
        resources.add((ApplicationModel)client);
      }
    }
    logger.debugv("logging out {0} resources ",resources.size());
    for (    ApplicationModel resource : resources) {
      logoutApplication(requestUri,realm,resource,null,session.getId(),executor,0);
    }
  }
  finally {
    executor.getHttpClient().getConnectionManager().shutdown();
  }
}
