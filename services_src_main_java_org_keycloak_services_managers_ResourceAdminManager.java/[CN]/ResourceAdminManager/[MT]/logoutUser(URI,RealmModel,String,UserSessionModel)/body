{
  ApacheHttpClient4Executor executor=createExecutor();
  try {
    List<ApplicationModel> resources=realm.getApplications();
    logger.debugv("logging out {0} resources ",resources.size());
    for (    ClientSessionModel clientSession : session.getClientSessions()) {
      ClientModel client=clientSession.getClient();
      if (client instanceof ApplicationModel) {
        logoutApplication(requestUri,realm,(ApplicationModel)client,user,session.getId(),executor,0);
      }
    }
  }
  finally {
    executor.getHttpClient().getConnectionManager().shutdown();
  }
}
