{
  ApacheHttpClient4Executor executor=createExecutor();
  try {
    List<UserSessionModel> userSessions=session.sessions().getUserSessions(realm,user);
    List<ClientSessionModel> ourAppClientSessions=null;
    if (userSessions != null) {
      MultivaluedHashMap<ApplicationModel,ClientSessionModel> clientSessions=new MultivaluedHashMap<ApplicationModel,ClientSessionModel>();
      for (      UserSessionModel userSession : userSessions) {
        putClientSessions(clientSessions,userSession);
      }
      ourAppClientSessions=clientSessions.get(resource);
    }
    logoutClientSessions(requestUri,realm,resource,ourAppClientSessions,executor);
  }
  finally {
    executor.getHttpClient().getConnectionManager().shutdown();
  }
}
