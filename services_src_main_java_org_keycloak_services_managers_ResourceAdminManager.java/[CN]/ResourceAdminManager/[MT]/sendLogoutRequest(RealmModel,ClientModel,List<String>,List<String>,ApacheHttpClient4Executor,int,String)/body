{
  LogoutAction adminAction=new LogoutAction(TokenIdGenerator.generateId(),Time.currentTime() + 30,resource.getClientId(),adapterSessionIds,notBefore,userSessions);
  String token=new TokenManager().encodeToken(realm,adminAction);
  if (logger.isDebugEnabled())   logger.debugv("logout resource {0} url: {1} sessionIds: " + adapterSessionIds,resource.getClientId(),managementUrl);
  ClientRequest request=client.createRequest(UriBuilder.fromUri(managementUrl).path(AdapterConstants.K_LOGOUT).build().toString());
  ClientResponse response;
  try {
    response=request.body(MediaType.TEXT_PLAIN_TYPE,token).post();
  }
 catch (  Exception e) {
    logger.warn("Logout for application '" + resource.getClientId() + "' failed",e);
    return false;
  }
  try {
    boolean success=response.getStatus() == 204 || response.getStatus() == 200;
    logger.debugf("logout success for %s: %s",managementUrl,success);
    return success;
  }
  finally {
    response.releaseConnection();
  }
}
