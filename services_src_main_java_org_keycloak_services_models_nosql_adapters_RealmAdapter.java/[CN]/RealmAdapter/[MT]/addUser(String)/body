{
  if (getUser(username) != null) {
    throw new IllegalArgumentException("User " + username + " already exists");
  }
  UserData userData=new UserData();
  userData.setLoginName(username);
  userData.setEnabled(true);
  userData.setRealmId(getId());
  noSQL.saveObject(userData);
  return new UserAdapter(userData,noSQL);
}
