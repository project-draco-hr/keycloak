{
  for (  IdentityProviderModel model : this.realmModel.getIdentityProviders()) {
    if (model.getId().equals(providerId)) {
      return model;
    }
  }
  throw new IdentityBrokerException("Configuration for identity provider [" + providerId + "] not found.");
}
