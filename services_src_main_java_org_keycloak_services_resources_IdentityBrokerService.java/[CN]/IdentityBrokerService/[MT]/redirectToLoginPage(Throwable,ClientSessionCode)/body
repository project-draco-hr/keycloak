{
  String message=t.getMessage();
  if (message == null) {
    message=Messages.IDENTITY_PROVIDER_UNEXPECTED_ERROR;
  }
  fireErrorEvent(message);
  return session.getProvider(LoginFormsProvider.class).setClientSessionCode(clientCode.getCode()).setError(message).createLogin();
}
