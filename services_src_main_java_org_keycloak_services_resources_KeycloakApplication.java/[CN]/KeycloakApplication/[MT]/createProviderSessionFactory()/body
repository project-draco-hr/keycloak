{
  DefaultProviderSessionFactory factory=new DefaultProviderSessionFactory();
  factory.registerLoader(AuditProvider.class,ProviderFactoryLoader.create(AuditProviderFactory.class),Config.getAuditProvider());
  factory.registerLoader(AuditListener.class,ProviderFactoryLoader.create(AuditListenerFactory.class));
  factory.registerLoader(TimerProvider.class,ProviderFactoryLoader.create(TimerProviderFactory.class),Config.getTimerProvider());
  factory.registerLoader(IdentityManagerProvider.class,ProviderFactoryLoader.create(IdentityManagerProviderFactory.class),Config.getIdentityManagerProvider());
  factory.registerLoader(AuthenticationProvider.class,ProviderFactoryLoader.create(AuthenticationProviderFactory.class));
  factory.init();
  return factory;
}
