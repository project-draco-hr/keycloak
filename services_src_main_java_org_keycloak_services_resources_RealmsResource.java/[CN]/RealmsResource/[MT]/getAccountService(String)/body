{
  return new Transaction<AccountService>(false){
    @Override protected AccountService callImpl(){
      RealmManager realmManager=new RealmManager(session);
      RealmModel realm=realmManager.getRealm(id);
      if (realm == null) {
        logger.debug("realm not found");
        throw new NotFoundException();
      }
      AccountService accountService=new AccountService(realm);
      resourceContext.initResource(accountService);
      return accountService;
    }
  }
.call();
}
