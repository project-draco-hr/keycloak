{
  auth.requireManage();
  if (parent == null)   parent=realm.getId();
  List<ComponentModel> components=realm.getComponents(parent,type);
  List<ComponentRepresentation> reps=new LinkedList<>();
  for (  ComponentModel component : components) {
    ComponentRepresentation rep=ModelToRepresentation.toRepresentation(component);
    reps.add(rep);
  }
  return reps;
}
