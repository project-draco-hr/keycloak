{
  Map<String,List<InputPart>> formDataMap=input.getFormDataMap();
  String id=formDataMap.get("id").get(0).getBodyAsString();
  String name=formDataMap.get("name").get(0).getBodyAsString();
  String providerId=formDataMap.get("providerId").get(0).getBodyAsString();
  String enabled=formDataMap.get("enabled").get(0).getBodyAsString();
  String updateProfileFirstLogin=formDataMap.get("updateProfileFirstLogin").get(0).getBodyAsString();
  InputPart file=formDataMap.get("file").get(0);
  InputStream inputStream=file.getBody(InputStream.class,null);
  IdentityProviderFactory providerFactory=getProviderFactorytById(providerId);
  Map config=providerFactory.parseConfig(inputStream);
  IdentityProviderModel providerModel=new IdentityProviderModel();
  providerModel.setId(id);
  providerModel.setName(name);
  providerModel.setProviderId(providerId);
  providerModel.setEnabled(Boolean.valueOf(enabled));
  providerModel.setUpdateProfileFirstLogin(Boolean.valueOf(updateProfileFirstLogin));
  providerModel.setConfig(config);
  return create(uriInfo,providerModel);
}
