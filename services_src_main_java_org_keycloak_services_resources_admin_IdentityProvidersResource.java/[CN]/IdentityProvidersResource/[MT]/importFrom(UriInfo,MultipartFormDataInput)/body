{
  this.auth.requireManage();
  Map<String,List<InputPart>> formDataMap=input.getFormDataMap();
  String providerId=formDataMap.get("providerId").get(0).getBodyAsString();
  InputPart file=formDataMap.get("file").get(0);
  InputStream inputStream=file.getBody(InputStream.class,null);
  IdentityProviderFactory providerFactory=getProviderFactorytById(providerId);
  Map<String,String> config=providerFactory.parseConfig(inputStream);
  event.event(EventType.IMPORT_IDENTITY_PROVIDER_CONFIG).detail(Details.IDENTITY_PROVIDER_FACTORY,providerFactory.getId()).detail(Details.IDENTITY_PROVIDER_FACTORY_IDENTITY,providerFactory.getName()).success();
  return config;
}
