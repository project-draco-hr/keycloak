{
  if (auth.hasView()) {
    RealmRepresentation rep=ModelToRepresentation.toRepresentation(realm);
    if (session.realms() instanceof CacheRealmProvider) {
      CacheRealmProvider cacheRealmProvider=(CacheRealmProvider)session.realms();
      rep.setRealmCacheEnabled(cacheRealmProvider.isEnabled());
    }
    if (session.users() instanceof CacheUserProvider) {
      CacheUserProvider cache=(CacheUserProvider)session.users();
      rep.setUserCacheEnabled(cache.isEnabled());
    }
    return rep;
  }
 else {
    auth.requireAny();
    RealmRepresentation rep=new RealmRepresentation();
    rep.setRealm(realm.getName());
    return rep;
  }
}
