{
  if (auth.hasView()) {
    RealmRepresentation rep=ModelToRepresentation.toRepresentation(realm,false);
    if (session.realms() instanceof CacheRealmProvider) {
      CacheRealmProvider cacheRealmProvider=(CacheRealmProvider)session.realms();
      rep.setRealmCacheEnabled(cacheRealmProvider.isEnabled());
    }
    if (session.userStorage() instanceof CacheUserProvider) {
      CacheUserProvider cache=(CacheUserProvider)session.userStorage();
      rep.setUserCacheEnabled(cache.isEnabled());
    }
    event.event(EventType.VIEW_REALM).representation(rep).success();
    return rep;
  }
 else {
    auth.requireAny();
    RealmRepresentation rep=new RealmRepresentation();
    rep.setRealm(realm.getName());
    event.event(EventType.VIEW_REALM).representation(rep).success();
    return rep;
  }
}
