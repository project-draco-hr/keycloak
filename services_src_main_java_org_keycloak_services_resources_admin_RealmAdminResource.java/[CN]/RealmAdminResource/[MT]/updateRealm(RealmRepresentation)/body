{
  auth.requireManage();
  logger.debug("updating realm: " + realm.getName());
  try {
    new RealmManager(session).updateRealm(rep,realm);
    return Response.noContent().build();
  }
 catch (  ModelDuplicateException e) {
    return Flows.errors().exists("Realm " + rep.getRealm() + " already exists");
  }
}
