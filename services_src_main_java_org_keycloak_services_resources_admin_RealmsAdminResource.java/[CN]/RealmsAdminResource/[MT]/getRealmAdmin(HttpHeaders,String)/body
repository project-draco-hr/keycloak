{
  RealmManager realmManager=new RealmManager(session);
  RealmModel realm=realmManager.getRealmByName(name);
  if (realm == null)   throw new NotFoundException("{realm} = " + name);
  if (!auth.getRealm().equals(realmManager.getKeycloakAdminstrationRealm()) && !auth.getRealm().equals(realm)) {
    throw new ForbiddenException();
  }
  RealmAuth realmAuth=new RealmAuth(auth,realm.getAdminApp());
  RealmAdminResource adminResource=new RealmAdminResource(realmAuth,realm,tokenManager);
  ResteasyProviderFactory.getInstance().injectProperties(adminResource);
  return adminResource;
}
