{
  logger.debug(("getRealms()"));
  List<RealmModel> realms=session.getRealms();
  List<RealmRepresentation> reps=new ArrayList<RealmRepresentation>();
  for (  RealmModel realm : realms) {
    String realmAdminApp=AdminRoles.getAdminApp(realm);
    if (auth.hasAppRole(realmAdminApp,AdminRoles.MANAGE_REALM)) {
      reps.add(ModelToRepresentation.toRepresentation(realm));
    }
 else     if (auth.hasOneOfAppRole(realmAdminApp,AdminRoles.ALL_REALM_ROLES)) {
      RealmRepresentation rep=new RealmRepresentation();
      rep.setRealm(realm.getName());
      reps.add(rep);
    }
  }
  return reps;
}
