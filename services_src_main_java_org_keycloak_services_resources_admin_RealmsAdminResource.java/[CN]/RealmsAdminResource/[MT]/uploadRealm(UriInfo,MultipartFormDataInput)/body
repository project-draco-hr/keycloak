{
  if (!auth.hasRealmRole(AdminRoles.CREATE_REALM)) {
    throw new ForbiddenException();
  }
  Map<String,List<InputPart>> uploadForm=input.getFormDataMap();
  List<InputPart> inputParts=uploadForm.get("file");
  RealmManager realmManager=new RealmManager(session);
  for (  InputPart inputPart : inputParts) {
    inputPart.setMediaType(MediaType.APPLICATION_JSON_TYPE);
    RealmRepresentation rep=inputPart.getBody(new GenericType<RealmRepresentation>(){
    }
);
    RealmModel realm=realmManager.importRealm(rep);
    grantPermissionsToRealmCreator(realm);
    if (inputParts.size() == 1) {
      URI location=realmUrl(uriInfo).build(realm.getName());
      return Response.created(location).build();
    }
  }
  return Response.noContent().build();
}
