{
  if (!role.isComposite() || role.getComposites().size() == 0)   return Collections.emptySet();
  ApplicationModel app=realm.getApplicationByName(appName);
  if (app == null) {
    throw new NotFoundException("Could not find application: " + appName);
  }
  Set<RoleRepresentation> composites=new HashSet<RoleRepresentation>(role.getComposites().size());
  for (  RoleModel composite : role.getComposites()) {
    if (composite.getContainer().equals(app))     composites.add(ModelToRepresentation.toRepresentation(composite));
  }
  return composites;
}
