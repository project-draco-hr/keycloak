{
  logger.debug("addApplicationRoleMapping");
  UserModel user=realm.getUser(username);
  if (user == null) {
    throw new NotFoundException();
  }
  ApplicationModel application=realm.getApplicationById(appId);
  if (application == null) {
    throw new NotFoundException();
  }
  for (  RoleRepresentation role : roles) {
    RoleModel roleModel=application.getRoleById(role.getId());
    if (roleModel == null) {
      throw new NotFoundException();
    }
    application.grantRole(user,roleModel);
  }
}
