{
  auth.requireView();
  UserModel user=realm.getUser(username);
  if (user == null) {
    throw new NotFoundException();
  }
  Map<String,UserStats> stats=new HashMap<String,UserStats>();
  for (  ApplicationModel applicationModel : realm.getApplications()) {
    if (applicationModel.getManagementUrl() == null)     continue;
    UserStats appStats=new ResourceAdminManager().getUserStats(realm,applicationModel,user);
    stats.put(applicationModel.getName(),appStats);
  }
  return stats;
}
