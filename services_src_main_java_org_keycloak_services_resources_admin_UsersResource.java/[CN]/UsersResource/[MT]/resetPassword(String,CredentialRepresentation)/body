{
  auth.requireManage();
  UserModel user=realm.getUser(username);
  if (user == null) {
    throw new NotFoundException("User not found");
  }
  if (pass == null || pass.getValue() == null || !CredentialRepresentation.PASSWORD.equals(pass.getType())) {
    throw new BadRequestException("No password provided");
  }
  UserCredentialModel cred=RepresentationToModel.convertCredential(pass);
  user.updateCredential(cred);
  user.addRequiredAction(UserModel.RequiredAction.UPDATE_PASSWORD);
}
