{
  if (config == null) {
    return defaultValue;
  }
  JsonNode n=config.get(key);
  if (n == null) {
    return defaultValue;
  }
  if (n.isTextual()) {
    return Integer.parseInt(StringPropertyReplacer.replaceProperties(n.getTextValue()));
  }
 else {
    return n.getIntValue();
  }
}
