{
  test1CreateRealm();
  realmModel.addRequiredCredential(CredentialRepresentation.PASSWORD);
  List<RequiredCredentialModel> storedCreds=realmModel.getRequiredCredentials();
  Assert.assertEquals(1,storedCreds.size());
  Set<String> creds=new HashSet<String>();
  creds.add(CredentialRepresentation.PASSWORD);
  creds.add(CredentialRepresentation.TOTP);
  realmModel.updateRequiredCredentials(creds);
  storedCreds=realmModel.getRequiredCredentials();
  Assert.assertEquals(2,storedCreds.size());
  boolean totp=false;
  boolean password=false;
  for (  RequiredCredentialModel cred : storedCreds) {
    Assert.assertTrue(cred.isInput());
    if (cred.getType().equals(CredentialRepresentation.PASSWORD)) {
      password=true;
      Assert.assertTrue(cred.isSecret());
    }
 else     if (cred.getType().equals(CredentialRepresentation.TOTP)) {
      totp=true;
      Assert.assertFalse(cred.isSecret());
    }
  }
  Assert.assertTrue(totp);
  Assert.assertTrue(password);
}
