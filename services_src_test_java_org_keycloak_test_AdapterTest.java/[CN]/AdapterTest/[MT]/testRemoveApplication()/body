{
  test1CreateRealm();
  UserModel user=realmModel.addUser("bburke");
  OAuthClientModel client=realmModel.addOAuthClient("client");
  ApplicationModel app=realmModel.addApplication("test-app");
  RoleModel appRole=app.addRole("test");
  app.grantRole(user,appRole);
  app.addScopeMapping(client.getOAuthAgent(),appRole);
  RoleModel realmRole=realmModel.addRole("test");
  realmModel.addScopeMapping(app.getApplicationUser(),realmRole);
  Assert.assertTrue(realmModel.removeApplication(app.getId()));
  Assert.assertFalse(realmModel.removeApplication(app.getId()));
  Assert.assertNull(realmModel.getApplicationById(app.getId()));
}
