{
  RealmModel defaultRealm=manager.createRealm(Realm.DEFAULT_REALM,Realm.DEFAULT_REALM);
  defaultRealm.setName(Realm.DEFAULT_REALM);
  defaultRealm.setEnabled(true);
  defaultRealm.setTokenLifespan(300);
  defaultRealm.setAccessCodeLifespan(60);
  defaultRealm.setSslNotRequired(false);
  defaultRealm.setCookieLoginAllowed(true);
  defaultRealm.setRegistrationAllowed(true);
  manager.generateRealmKeys(defaultRealm);
  defaultRealm.updateRealm();
  defaultRealm.addRequiredCredential(RequiredCredentialModel.PASSWORD);
  defaultRealm.getIdm().add(new SimpleRole(RegistrationService.REALM_CREATOR_ROLE));
  RealmRepresentation rep=KeycloakTestBase.loadJson("testrealm.json");
  RealmModel realm=manager.createRealm("demo",rep.getRealm());
  manager.importRealm(rep,realm);
  User user=realm.getIdm().getUser("loginclient");
  Assert.assertNotNull(user);
  Set<String> scopes=realm.getScopes(user);
  System.out.println("Scopes size: " + scopes.size());
  Assert.assertTrue(scopes.contains("*"));
}
