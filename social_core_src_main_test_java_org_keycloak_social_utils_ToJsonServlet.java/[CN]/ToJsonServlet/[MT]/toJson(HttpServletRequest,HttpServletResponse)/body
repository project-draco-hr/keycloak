{
  ObjectNode o=mapper.createObjectNode();
  ObjectNode headers=mapper.createObjectNode();
  Enumeration<String> headerNames=req.getHeaderNames();
  while (headerNames.hasMoreElements()) {
    String n=headerNames.nextElement();
    headers.put(n,req.getHeader(n));
  }
  o.put("headers",headers);
  ObjectNode params=mapper.createObjectNode();
  Enumeration<String> parameterNames=req.getParameterNames();
  while (parameterNames.hasMoreElements()) {
    String n=parameterNames.nextElement();
    params.put(n,req.getParameter(n));
  }
  o.put("params",params);
  resp.setContentType("application/json");
  resp.getOutputStream().write(o.toString().getBytes());
}
