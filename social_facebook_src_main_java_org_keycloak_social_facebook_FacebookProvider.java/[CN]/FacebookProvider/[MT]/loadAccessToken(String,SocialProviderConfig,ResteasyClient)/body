{
  Form form=new Form();
  form.param("grant_type","authorization_code").param("code",code).param("client_id",config.getKey()).param("client_secret",config.getSecret()).param("redirect_uri",config.getCallbackUrl());
  Response response=client.target(ACCESS_TOKEN_ENDPOINT_URL).request().post(Entity.form(form));
  if (response.getStatus() != 200) {
    String errorTokenResponse=response.readEntity(String.class);
    throw new SocialProviderException("Access token request to Facebook failed. Status: " + response.getStatus() + ", response: "+ errorTokenResponse);
  }
  String accessTokenResponse=response.readEntity(String.class);
  return parseParameter(accessTokenResponse,"access_token");
}
