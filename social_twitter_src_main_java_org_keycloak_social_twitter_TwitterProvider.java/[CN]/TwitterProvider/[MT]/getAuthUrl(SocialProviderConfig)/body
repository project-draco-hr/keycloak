{
  try {
    Twitter twitter=new TwitterFactory().getInstance();
    twitter.setOAuthConsumer(config.getKey(),config.getSecret());
    String redirectUri=config.getCallbackUrl();
    redirectUri=redirectUri.replace("//localhost","//127.0.0.1");
    RequestToken requestToken=twitter.getOAuthRequestToken(redirectUri);
    return AuthRequest.create(requestToken.getToken(),requestToken.getAuthenticationURL()).setAttribute("token",requestToken.getToken()).setAttribute("tokenSecret",requestToken.getTokenSecret()).build();
  }
 catch (  Exception e) {
    throw new SocialProviderException(e);
  }
}
