{
  List<AuthenticationProviderModel> configuredProviders=getConfiguredProviders(realm);
  for (  AuthenticationProviderModel authProviderConfig : configuredProviders) {
    if (authProviderConfig.isPasswordUpdateSupported()) {
      String providerName=authProviderConfig.getProviderName();
      AuthenticationProvider delegate=getDelegate(providerName);
      if (delegate == null) {
        continue;
      }
      try {
        if (delegate.updateCredential(realm,authProviderConfig.getConfig(),username,password)) {
          logger.debugf("Updated password in authentication provider '%s' for user '%s'",delegate.getName(),username);
        }
 else {
          logger.debugf("Password not updated in authentication provider '%s' for user '%s'",delegate.getName(),username);
        }
      }
 catch (      AuthenticationProviderException ape) {
        logger.warn("Failed to update password: " + ape.getMessage());
        throw ape;
      }
    }
 else {
      logger.debugf("Skip password update for authentication provider '%s' for user '%s'",authProviderConfig.getProviderName(),username);
    }
  }
}
