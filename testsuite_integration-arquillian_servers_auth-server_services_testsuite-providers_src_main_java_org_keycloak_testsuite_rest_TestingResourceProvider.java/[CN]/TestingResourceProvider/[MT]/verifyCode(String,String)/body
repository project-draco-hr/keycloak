{
  RealmModel realm=session.realms().getRealm(realmName);
  try {
    ClientSessionCode accessCode=ClientSessionCode.parse(code,session,realm);
    if (accessCode == null) {
      throw new AssertionError("Invalid code");
    }
    return accessCode.getClientSession().getId();
  }
 catch (  Throwable t) {
    throw new AssertionError("Failed to parse code",t);
  }
}
