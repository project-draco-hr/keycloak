{
  System.out.println("In SendUsername Servlet doPost()");
  if (checkRoles != null) {
    for (    String role : checkRoles) {
      System.out.println("check role: " + role);
      if (!req.isUserInRole(role)) {
        throw new RuntimeException("User: " + req.getUserPrincipal() + " is not in Role: "+ role);
      }
    }
  }
  resp.setContentType("text/plain");
  OutputStream stream=resp.getOutputStream();
  Principal principal=req.getUserPrincipal();
  stream.write("request-path: ".getBytes());
  stream.write(req.getServletPath().getBytes());
  stream.write("\n".getBytes());
  stream.write("principal=".getBytes());
  if (principal == null) {
    stream.write("null".getBytes());
    return;
  }
  String name=principal.getName();
  stream.write(name.getBytes());
  sentPrincipal=principal;
}
