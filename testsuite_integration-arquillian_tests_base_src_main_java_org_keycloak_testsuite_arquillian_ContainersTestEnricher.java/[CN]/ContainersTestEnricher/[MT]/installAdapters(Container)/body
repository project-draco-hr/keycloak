{
  if (!alreadyInstalled && !skipInstallAdapters && isJBossBased(container)) {
    File bin=new File(jbossHomePath + "/bin");
    String command="java -jar " + jbossHomePath + "/bin/client/jboss-cli-client.jar";
    String adapterScript="adapter-install.cli";
    String samlAdapterScript="adapter-install-saml.cli";
    String managementPort=container.getContainerConfiguration().getContainerProperties().get("managementPort");
    String controllerArg=" --controller=localhost:" + managementPort;
    if (new File(bin,adapterScript).exists()) {
      log.info("Installing adapter to app server via cli script");
      execCommand(command + " --connect --file=" + adapterScript+ controllerArg,bin);
    }
    if (new File(bin,samlAdapterScript).exists()) {
      log.info("Installing saml adapter to app server via cli script");
      execCommand(command + " --connect --file=" + samlAdapterScript+ controllerArg,bin);
    }
    if (new File(bin,adapterScript).exists() || new File(bin,samlAdapterScript).exists()) {
      log.info("Restarting container");
      execCommand(command + " --connect --command=reload" + controllerArg,bin);
      log.info("Container restarted");
      pause(5000);
      checkServerLog(jbossHomePath);
    }
    if (container.getName().startsWith("app-server")) {
      alreadyInstalled=true;
    }
  }
}
