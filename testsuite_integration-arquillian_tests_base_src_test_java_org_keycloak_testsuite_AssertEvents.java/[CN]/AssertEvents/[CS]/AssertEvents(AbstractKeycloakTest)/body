{
  context=ctx;
  realmResource=context.adminClient.realms().realm(DEFAULT_REALM);
  realmRep=realmResource.toRepresentation();
  String pubKeyString=realmRep.getPublicKey();
  realmPublicKey=PemUtils.decodePublicKey(pubKeyString);
  defaultUser=getUser(DEFAULT_USERNAME);
  if (defaultUser == null) {
    throw new RuntimeException("Default user does not exist: " + DEFAULT_USERNAME + ". Make sure to add it to your test realm.");
  }
  defaultEventsQueueUri=getAuthServerEventsQueueUri();
}
