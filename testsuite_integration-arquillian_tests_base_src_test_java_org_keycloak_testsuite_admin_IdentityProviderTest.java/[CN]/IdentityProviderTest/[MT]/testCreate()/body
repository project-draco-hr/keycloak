{
  IdentityProviderRepresentation newIdentityProvider=create("new-identity-provider","oidc");
  newIdentityProvider.getConfig().put("clientId","clientId");
  newIdentityProvider.getConfig().put("clientSecret","clientSecret");
  Response response=realm.identityProviders().create(newIdentityProvider);
  Assert.assertNotNull(ApiUtil.getCreatedId(response));
  response.close();
  IdentityProviderResource identityProviderResource=realm.identityProviders().get("new-identity-provider");
  assertNotNull(identityProviderResource);
  IdentityProviderRepresentation representation=identityProviderResource.toRepresentation();
  assertNotNull(representation);
  assertNotNull(representation.getInternalId());
  assertEquals("new-identity-provider",representation.getAlias());
  assertEquals("oidc",representation.getProviderId());
  assertEquals("clientId",representation.getConfig().get("clientId"));
  assertEquals("clientSecret",representation.getConfig().get("clientSecret"));
  assertTrue(representation.isEnabled());
  assertFalse(representation.isStoreToken());
  assertFalse(representation.isTrustEmail());
}
