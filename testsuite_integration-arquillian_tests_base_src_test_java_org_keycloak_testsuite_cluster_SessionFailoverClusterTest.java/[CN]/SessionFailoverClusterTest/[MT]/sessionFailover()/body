{
  accountPage.navigateTo();
  driver.navigate().refresh();
  pause(3000);
  loginPage.form().login(ADMIN,ADMIN);
  assertCurrentUrlStartsWith(accountPage);
  Cookie sessionCookie=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNotNull(sessionCookie);
  killBackend1();
  driver.navigate().refresh();
  pause(3000);
  assertCurrentUrlStartsWith(accountPage);
  Cookie sessionCookieAfterFailover=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNotNull(sessionCookieAfterFailover);
  assertEquals(sessionCookieAfterFailover.getValue(),sessionCookie.getValue());
  failback();
  driver.navigate().refresh();
  pause(3000);
  assertCurrentUrlStartsWith(accountPage);
  Cookie sessionCookieAfterFailback=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNotNull(sessionCookieAfterFailback);
  assertEquals(sessionCookieAfterFailover.getValue(),sessionCookie.getValue());
  accountPage.navigateTo();
  accountPage.signOut();
  assertCurrentUrlDoesntStartWith(accountPage);
  masterRealmPage.navigateTo();
  sessionCookie=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNull(sessionCookie);
  killBackend1();
  driver.navigate().refresh();
  pause(3000);
  assertCurrentUrlDoesntStartWith(accountPage);
  masterRealmPage.navigateTo();
  sessionCookieAfterFailover=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNull(sessionCookieAfterFailover);
  failback();
  driver.navigate().refresh();
  pause(3000);
  assertCurrentUrlDoesntStartWith(accountPage);
  masterRealmPage.navigateTo();
  sessionCookieAfterFailback=driver.manage().getCookieNamed(KEYCLOAK_SESSION_COOKIE);
  assertNull(sessionCookieAfterFailback);
}
