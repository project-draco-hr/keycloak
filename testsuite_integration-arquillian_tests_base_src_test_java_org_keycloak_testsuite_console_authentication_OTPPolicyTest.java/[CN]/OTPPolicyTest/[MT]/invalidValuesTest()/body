{
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"","30");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY," ","30");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"no number","30");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  RealmRepresentation realm=testRealmResource().toRepresentation();
  assertEquals(Integer.valueOf(1),realm.getOtpPolicyLookAheadWindow());
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1","");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1"," ");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.TIME_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1","no number");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  realm=testRealmResource().toRepresentation();
  assertEquals(Integer.valueOf(30),realm.getOtpPolicyPeriod());
  otpPolicyPage.form().setValues(OTPType.COUNTER_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1","");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.COUNTER_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1"," ");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  otpPolicyPage.form().setValues(OTPType.COUNTER_BASED,OTPHashAlg.SHA1,Digits.EMPTY,"1","no number");
  assertEquals("Error! Missing or invalid field(s). Please verify the fields in red.",otpPolicyPage.getErrorMessage());
  otpPolicyPage.closeNotification();
  otpPolicyPage.navigateTo();
  realm=testRealmResource().toRepresentation();
  assertEquals(Integer.valueOf(0),realm.getOtpPolicyInitialCounter());
}
