{
  RealmRepresentation realmRep=new RealmRepresentation();
  realmRep.setRealm("component-realm");
  adminClient.realms().create(realmRep);
  Assert.assertEquals(4,adminClient.realms().findAll().size());
  RealmResource realm=adminClient.realm("component-realm");
  realmRep=realm.toRepresentation();
  ComponentRepresentation component=new ComponentRepresentation();
  component.setProviderId("dummy");
  component.setProviderType("dummyType");
  component.setName("dummy-name");
  component.setParentId(realmRep.getId());
  component.setConfig(new MultivaluedHashMap<>());
  component.getConfig().add("name","value");
  realm.components().add(component);
  testingClient.testing().exportImport().setProvider(SingleFileExportProviderFactory.PROVIDER_ID);
  String targetFilePath=testingClient.testing().exportImport().getExportImportTestDirectory() + File.separator + "singleFile-realm.json";
  testingClient.testing().exportImport().setFile(targetFilePath);
  testingClient.testing().exportImport().setAction(ExportImportConfig.ACTION_EXPORT);
  testingClient.testing().exportImport().setRealmName("component-realm");
  testingClient.testing().exportImport().runExport();
  adminClient.realm("component-realm").remove();
  Assert.assertEquals(3,adminClient.realms().findAll().size());
  testingClient.testing().exportImport().setAction(ExportImportConfig.ACTION_IMPORT);
  testingClient.testing().exportImport().runImport();
  realmRep=realm.toRepresentation();
  List<ComponentRepresentation> components=realm.components().query();
  Assert.assertEquals(1,components.size());
  component=components.get(0);
  Assert.assertEquals("dummy-name",component.getName());
  Assert.assertEquals("dummyType",component.getProviderType());
  Assert.assertEquals("dummy",component.getProviderId());
  Assert.assertEquals(realmRep.getId(),component.getParentId());
  Assert.assertEquals(1,component.getConfig().size());
  Assert.assertEquals("value",component.getConfig().getFirst("name"));
  adminClient.realm("component-realm").remove();
}
