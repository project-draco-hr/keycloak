{
  driver.navigate().to(oauth.getLoginFormUrl().toString() + "&prompt=none");
  assertFalse(loginPage.isCurrent());
  assertTrue(appPage.isCurrent());
  loginPage.open();
  loginPage.login("login-test","password");
  Assert.assertEquals(RequestType.AUTH_RESPONSE,appPage.getRequestType());
  events.expectLogin().user(userId).detail(Details.USERNAME,"login-test").assertEvent();
  driver.navigate().to(oauth.getLoginFormUrl().toString() + "&prompt=none");
  Assert.assertEquals(RequestType.AUTH_RESPONSE,appPage.getRequestType());
  events.expectLogin().user(userId).removeDetail(Details.USERNAME).assertEvent();
}
