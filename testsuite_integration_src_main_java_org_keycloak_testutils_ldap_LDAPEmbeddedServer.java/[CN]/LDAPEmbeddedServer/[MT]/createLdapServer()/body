{
  LdapServer ldapServer=new LdapServer();
  ldapServer.setServiceName("DefaultLdapServer");
  ldapServer.setSearchBaseDn(this.baseDN);
  Transport ldap=new TcpTransport(this.bindHost,this.bindPort,3,50);
  ldapServer.addTransports(ldap);
  ldapServer.setDirectoryService(directoryService);
  directoryService.setAllowAnonymousAccess(false);
  ldapServer.setSaslHost(this.bindHost);
  ldapServer.setSaslPrincipal("ldap/" + this.bindHost + "@KEYCLOAK.ORG");
  ldapServer.setSaslRealms(new ArrayList<String>());
  return ldapServer;
}
