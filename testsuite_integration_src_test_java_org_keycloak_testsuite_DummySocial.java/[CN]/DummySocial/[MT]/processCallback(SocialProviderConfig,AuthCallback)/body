{
  if (!callback.getQueryParam("state").equals(callback.getAttribute("state"))) {
    throw new SocialProviderException("Invalid state");
  }
  String username=callback.getQueryParam("access_token");
  SocialUser user=new SocialUser(username);
  user.setEmail(username + "@dummy-social");
  user.setUsername(username);
  return user;
}
