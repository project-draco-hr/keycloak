{
  UriBuilder b=UriBuilder.fromUri(baseUrl + "/realms/" + realm+ "/tokens/login");
  if (responseType != null) {
    b.queryParam("response_type",responseType);
  }
  if (clientId != null) {
    b.queryParam("client_id",clientId);
  }
  if (redirectUri != null) {
    b.queryParam("redirect_uri",redirectUri);
  }
  if (scope != null) {
    try {
      b.queryParam("scope",Base64Url.encode(JsonSerialization.toByteArray(scope,false)));
    }
 catch (    Exception e) {
      throw new RuntimeException("Failed to serialize scope",e);
    }
  }
  if (state != null) {
    b.queryParam("state",state);
  }
  return b.build().toString();
}
