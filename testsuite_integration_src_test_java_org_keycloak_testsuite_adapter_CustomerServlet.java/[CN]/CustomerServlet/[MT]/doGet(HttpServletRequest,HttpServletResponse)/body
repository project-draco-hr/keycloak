{
  KeycloakSecurityContext context=(KeycloakSecurityContext)req.getAttribute(KeycloakSecurityContext.class.getName());
  Client client=ClientBuilder.newClient();
  try {
    WebTarget target=client.target("http://localhost:8081/customer-db");
    Response response=target.request().get();
    Assert.assertEquals(401,response.getStatus());
    response.close();
    String html=target.request().header(HttpHeaders.AUTHORIZATION,"Bearer " + context.getTokenString()).get(String.class);
    resp.setContentType("text/html");
    PrintWriter pw=resp.getWriter();
    pw.println(html);
    pw.flush();
  }
  finally {
    client.close();
  }
}
