{
  keycloakRule.configure(new KeycloakRule.KeycloakSetup(){
    @Override public void config(    RealmManager manager,    RealmModel adminstrationRealm,    RealmModel appRealm){
      appRealm.getClientByClientId("test-app").setDirectAccessGrantsEnabled(true);
    }
  }
);
  keycloak=Keycloak.getInstance("http://localhost:8081/auth","master","admin","admin",Constants.ADMIN_CLI_CLIENT_ID);
  RealmRepresentation rep=new RealmRepresentation();
  rep.setRealm(REALM_NAME);
  rep.setEnabled(true);
  Map<String,String> config=new HashMap<>();
  config.put("from","auto@keycloak.org");
  config.put("host","localhost");
  config.put("port","3025");
  rep.setSmtpServer(config);
  keycloak.realms().create(rep);
  realm=keycloak.realm(REALM_NAME);
}
