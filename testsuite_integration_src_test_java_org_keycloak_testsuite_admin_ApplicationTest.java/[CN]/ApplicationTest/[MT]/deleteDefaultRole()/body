{
  ApplicationRepresentation rep=new ApplicationRepresentation();
  rep.setName("my-app");
  rep.setEnabled(true);
  realm.applications().create(rep);
  RoleRepresentation role=new RoleRepresentation("test","test");
  realm.applications().get("my-app").roles().create(role);
  rep=realm.applications().get("my-app").toRepresentation();
  rep.setDefaultRoles(new String[]{"test"});
  realm.applications().get("my-app").update(rep);
  assertArrayEquals(new String[]{"test"},realm.applications().get("my-app").toRepresentation().getDefaultRoles());
  realm.applications().get("my-app").roles().deleteRole("test");
  assertNull(realm.applications().get("my-app").toRepresentation().getDefaultRoles());
}
