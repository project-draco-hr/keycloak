{
  ClientRepresentation rep=new ClientRepresentation();
  rep.setClientId("my-app");
  rep.setEnabled(true);
  Response response=realm.clients().create(rep);
  response.close();
  String id=ApiUtil.getCreatedId(response);
  RoleRepresentation role=new RoleRepresentation("test","test",false);
  realm.clients().get(id).roles().create(role);
  rep=realm.clients().get(id).toRepresentation();
  rep.setDefaultRoles(new String[]{"test"});
  realm.clients().get(id).update(rep);
  assertArrayEquals(new String[]{"test"},realm.clients().get(id).toRepresentation().getDefaultRoles());
  realm.clients().get(id).roles().deleteRole("test");
  assertNull(realm.clients().get(id).toRepresentation().getDefaultRoles());
}
