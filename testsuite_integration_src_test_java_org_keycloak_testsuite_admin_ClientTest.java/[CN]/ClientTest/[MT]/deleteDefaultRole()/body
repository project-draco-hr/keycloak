{
  ClientRepresentation rep=new ClientRepresentation();
  rep.setClientId("my-app");
  rep.setEnabled(true);
  realm.clients().create(rep);
  RoleRepresentation role=new RoleRepresentation("test","test");
  realm.clients().get("my-app").roles().create(role);
  rep=realm.clients().get("my-app").toRepresentation();
  rep.setDefaultRoles(new String[]{"test"});
  realm.clients().get("my-app").update(rep);
  assertArrayEquals(new String[]{"test"},realm.clients().get("my-app").toRepresentation().getDefaultRoles());
  realm.clients().get("my-app").roles().deleteRole("test");
  assertNull(realm.clients().get("my-app").toRepresentation().getDefaultRoles());
}
