{
  System.out.println("***************************");
  long start=System.currentTimeMillis();
  run(new KeycloakRunnable(){
    @Override public void run(    int threadNum,    int iterationNum){
      String name="c-" + threadNum + "-"+ iterationNum;
      int node1=threadNum % 2;
      int node2=0;
      if (node1 == 0)       node2=1;
      String id=null;
{
        KeycloakSession session=nodes[node1].create();
        session.getTransaction().begin();
        RealmModel realm=session.realms().getRealmByName("testrealm");
        ClientModel client=realm.addClient(name);
        id=client.getId();
        session.getTransaction().commit();
      }
{
        KeycloakSession session=nodes[node2].create();
        session.getTransaction().begin();
        RealmModel realm=session.realms().getRealmByName("testrealm");
        boolean found=false;
        for (        ClientModel client : realm.getClients()) {
          if (client.getId().equals(id)) {
            found=true;
          }
        }
        session.getTransaction().commit();
        if (!found) {
          fail("Client " + name + " not found in client list");
        }
      }
{
        KeycloakSession session=nodes[node1].create();
        session.getTransaction().begin();
        RealmModel realm=session.realms().getRealmByName("testrealm");
        boolean found=false;
        for (        ClientModel client : realm.getClients()) {
          if (client.getId().equals(id)) {
            found=true;
          }
        }
        session.getTransaction().commit();
        if (!found) {
          fail("Client " + name + " not found in client list");
        }
      }
    }
  }
);
  long end=System.currentTimeMillis() - start;
  System.out.println("createClient took " + end);
}
