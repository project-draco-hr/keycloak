{
  IdentityProviderRepresentation newIdentityProvider=create("new-identity-provider","oidc","New Identity Provider");
  newIdentityProvider.getConfig().put("clientId","clientId");
  newIdentityProvider.getConfig().put("clientSecret","clientSecret");
  realm.identityProviders().create(newIdentityProvider);
  IdentityProviderResource identityProviderResource=realm.identityProviders().get("new-identity-provider");
  assertNotNull(identityProviderResource);
  IdentityProviderRepresentation representation=identityProviderResource.toRepresentation();
  assertNotNull(representation);
  assertNotNull(representation.getInternalId());
  assertEquals("new-identity-provider",representation.getAlias());
  assertEquals("oidc",representation.getProviderId());
  assertEquals("clientId",representation.getConfig().get("clientId"));
  assertEquals("clientSecret",representation.getConfig().get("clientSecret"));
  assertTrue(representation.isEnabled());
  assertFalse(representation.isStoreToken());
  assertTrue(representation.isUpdateProfileFirstLogin());
  assertFalse(representation.isTrustEmail());
}
