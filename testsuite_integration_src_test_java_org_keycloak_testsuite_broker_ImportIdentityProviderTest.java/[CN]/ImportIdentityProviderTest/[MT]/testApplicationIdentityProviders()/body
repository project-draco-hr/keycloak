{
  RealmModel realm=installTestRealm();
  ClientModel client=realm.findClient("test-app-with-allowed-providers");
  List<ClientIdentityProviderMappingModel> identityProviders=client.getIdentityProviders();
  assertEquals(1,identityProviders.size());
  ClientIdentityProviderMappingModel identityProviderMappingModel=identityProviders.get(0);
  assertEquals("kc-oidc-idp",identityProviderMappingModel.getIdentityProvider());
  assertEquals(false,identityProviderMappingModel.isRetrieveToken());
  identityProviders.remove(identityProviderMappingModel);
  client.updateAllowedIdentityProviders(identityProviders);
  client=realm.findClientById(client.getId());
  identityProviders=client.getIdentityProviders();
  assertEquals(0,identityProviders.size());
  this.realmManager.removeRealm(realm);
}
