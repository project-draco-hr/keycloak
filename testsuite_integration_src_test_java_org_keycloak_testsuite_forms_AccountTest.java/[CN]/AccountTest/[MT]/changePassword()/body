{
  changePasswordPage.open();
  loginPage.login("test-user@localhost","password");
  changePasswordPage.changePassword("","new-password","new-password");
  Assert.assertTrue(profilePage.isError());
  changePasswordPage.changePassword("password","new-password","new-password2");
  Assert.assertTrue(profilePage.isError());
  changePasswordPage.changePassword("password","new-password","new-password");
  Assert.assertTrue(profilePage.isSuccess());
  changePasswordPage.logout();
  loginPage.open();
  loginPage.login("test-user@localhost","password");
  Assert.assertEquals("Invalid username or password",loginPage.getError());
  loginPage.open();
  loginPage.login("test-user@localhost","new-password");
  Assert.assertEquals(RequestType.AUTH_RESPONSE,appPage.getRequestType());
}
