{
  profilePage.open();
  loginPage.login("test-user@localhost","password");
  Assert.assertEquals("",profilePage.getFirstName());
  Assert.assertEquals("",profilePage.getLastName());
  Assert.assertEquals("test-user@localhost",profilePage.getEmail());
  profilePage.updateProfile("","New last","new@email.com");
  Assert.assertTrue(profilePage.isError());
  Assert.assertEquals("",profilePage.getFirstName());
  Assert.assertEquals("",profilePage.getLastName());
  Assert.assertEquals("test-user@localhost",profilePage.getEmail());
  profilePage.updateProfile("New first","","new@email.com");
  Assert.assertTrue(profilePage.isError());
  Assert.assertEquals("",profilePage.getFirstName());
  Assert.assertEquals("",profilePage.getLastName());
  Assert.assertEquals("test-user@localhost",profilePage.getEmail());
  profilePage.updateProfile("New first","New last","");
  Assert.assertTrue(profilePage.isError());
  Assert.assertEquals("",profilePage.getFirstName());
  Assert.assertEquals("",profilePage.getLastName());
  Assert.assertEquals("test-user@localhost",profilePage.getEmail());
  profilePage.updateProfile("New first","New last","new@email.com");
  Assert.assertTrue(profilePage.isSuccess());
  Assert.assertEquals("New first",profilePage.getFirstName());
  Assert.assertEquals("New last",profilePage.getLastName());
  Assert.assertEquals("new@email.com",profilePage.getEmail());
}
