{
  loginPage.open();
  loginPage.login("john","password");
  Assert.assertEquals(AppPage.RequestType.AUTH_RESPONSE,appPage.getRequestType());
  Assert.assertNotNull(oauth.getCurrentQuery().get(OAuth2Constants.CODE));
  profilePage.open();
  Assert.assertTrue(profilePage.isPasswordUpdateSupported());
  Assert.assertEquals("John",profilePage.getFirstName());
  Assert.assertEquals("Doe",profilePage.getLastName());
  Assert.assertEquals("john@email.org",profilePage.getEmail());
}
