{
  test1CreateRealm();
  RoleModel realmRole=realmModel.addRole("realm");
  ClientModel app1=realmModel.addClient("app1");
  RoleModel appRole=app1.addRole("app");
  ClientModel app2=realmModel.addClient("app2");
  app2.addScopeMapping(realmRole);
  app2.addScopeMapping(appRole);
  ClientModel client=realmModel.addClient("client");
  client.addScopeMapping(realmRole);
  client.addScopeMapping(appRole);
  commit();
  realmModel=model.getRealmByName("JUGGLER");
  app1=realmModel.getClientByClientId("app1");
  app2=realmModel.getClientByClientId("app2");
  client=realmModel.getClientByClientId("client");
  Set<RoleModel> scopeMappings=app2.getScopeMappings();
  Assert.assertEquals(2,scopeMappings.size());
  Assert.assertTrue(scopeMappings.contains(realmModel.getRole("realm")));
  Assert.assertTrue(scopeMappings.contains(app1.getRole("app")));
  scopeMappings=client.getScopeMappings();
  Assert.assertEquals(2,scopeMappings.size());
  Assert.assertTrue(scopeMappings.contains(realmModel.getRole("realm")));
  Assert.assertTrue(scopeMappings.contains(app1.getRole("app")));
}
