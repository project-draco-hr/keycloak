{
  RealmModel realm=realmManager.createRealm("original");
  realm.setRegistrationAllowed(true);
  realm.setRegistrationEmailAsUsername(true);
  realm.setResetPasswordAllowed(true);
  realm.setEditUsernameAllowed(true);
  realm.setSslRequired(SslRequired.EXTERNAL);
  realm.setVerifyEmail(true);
  realm.setAccessTokenLifespan(1000);
  realm.setPasswordPolicy(new PasswordPolicy("length"));
  realm.setAccessCodeLifespan(1001);
  realm.setAccessCodeLifespanUserAction(1002);
  KeycloakModelUtils.generateRealmKeys(realm);
  realm.addDefaultRole("default-role");
  HashMap<String,String> smtp=new HashMap<String,String>();
  smtp.put("from","auto@keycloak");
  smtp.put("hostname","localhost");
  realm.setSmtpConfig(smtp);
  realm.setDefaultLocale("en");
  realm.setAccessCodeLifespanLogin(100);
  realm.setInternationalizationEnabled(true);
  realm.setRegistrationEmailAsUsername(true);
  realm.setSupportedLocales(new HashSet<String>(Arrays.asList("en","cz")));
  realm.setEventsListeners(new HashSet<String>(Arrays.asList("jpa","mongo","foo")));
  realm.setEventsExpiration(200);
  realm.setEventsEnabled(true);
  RealmModel persisted=realmManager.getRealm(realm.getId());
  assertEquals(realm,persisted);
  RealmModel copy=importExport(realm,"copy");
  assertEquals(realm,copy);
}
