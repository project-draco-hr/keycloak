{
  String invalidJwt=ClientAuthAdapterUtils.createSignedJWT("client1",getRealmInfoUrl(),"classpath:client-auth-test/keystore-client2.jks","storepass","keypass","clientkey",KeystoreUtil.KeystoreFormat.JKS,10);
  List<NameValuePair> parameters=new LinkedList<NameValuePair>();
  parameters.add(new BasicNameValuePair(OAuth2Constants.GRANT_TYPE,OAuth2Constants.CLIENT_CREDENTIALS));
  parameters.add(new BasicNameValuePair(OAuth2Constants.CLIENT_ASSERTION_TYPE,OAuth2Constants.CLIENT_ASSERTION_TYPE_JWT));
  parameters.add(new BasicNameValuePair(OAuth2Constants.CLIENT_ASSERTION,invalidJwt));
  HttpResponse resp=sendRequest(oauth.getServiceAccountUrl(),parameters);
  OAuthClient.AccessTokenResponse response=new OAuthClient.AccessTokenResponse(resp);
  assertError(response,"client1","unauthorized_client",Errors.INVALID_CLIENT_CREDENTIALS);
}
