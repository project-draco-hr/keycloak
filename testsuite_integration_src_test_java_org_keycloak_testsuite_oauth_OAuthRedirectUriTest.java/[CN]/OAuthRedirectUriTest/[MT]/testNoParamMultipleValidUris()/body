{
  keycloakRule.update(new KeycloakRule.KeycloakSetup(){
    @Override public void config(    RealmManager manager,    RealmModel adminstrationRealm,    RealmModel appRealm){
      appRealm.getApplicationNameMap().get("test-app").addRedirectUri("http://localhost:8081/app2");
    }
  }
);
  try {
    oauth.redirectUri(null);
    oauth.openLoginForm();
    Assert.assertTrue(errorPage.isCurrent());
    Assert.assertEquals("Invalid redirect_uri",errorPage.getError());
  }
  finally {
    keycloakRule.update(new KeycloakRule.KeycloakSetup(){
      @Override public void config(      RealmManager manager,      RealmModel adminstrationRealm,      RealmModel appRealm){
        appRealm.getApplicationNameMap().get("test-app").removeRedirectUri("http://localhost:8081/app2");
      }
    }
);
  }
}
