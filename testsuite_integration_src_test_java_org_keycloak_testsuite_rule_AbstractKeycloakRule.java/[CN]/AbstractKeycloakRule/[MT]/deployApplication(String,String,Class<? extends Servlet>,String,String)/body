{
  DeploymentInfo di=createDeploymentInfo(name,contextPath,servletClass);
  di.addInitParameter("keycloak.config.file",adapterConfigPath);
  SecurityConstraint constraint=new SecurityConstraint();
  WebResourceCollection collection=new WebResourceCollection();
  collection.addUrlPattern("/*");
  constraint.addWebResourceCollection(collection);
  constraint.addRoleAllowed(role);
  di.addSecurityConstraint(constraint);
  LoginConfig loginConfig=new LoginConfig("KEYCLOAK","demo");
  di.setLoginConfig(loginConfig);
  server.getServer().deploy(di);
}
