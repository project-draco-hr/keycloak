{
  ProviderSession providerSession=server.getProviderSessionFactory().createSession();
  KeycloakSession session=providerSession.getProvider(KeycloakSession.class);
  try {
    UserModel user=session.getRealmByName(realm).getUser(name);
    return user != null ? ModelToRepresentation.toRepresentation(user) : null;
  }
  finally {
    providerSession.close();
  }
}
