{
  loginPage.open();
  loginPage.clickSocial("dummy");
  driver.findElement(By.id("cancel")).click();
  Assert.assertTrue(loginPage.isCurrent());
  Assert.assertEquals("Access denied",loginPage.getWarning());
  events.expectLogin().error("rejected_by_user").user((String)null).detail(Details.AUTH_METHOD,"social").removeDetail(Details.USERNAME).removeDetail(Details.CODE_ID).assertEvent();
  loginPage.login("test-user@localhost","password");
  Assert.assertEquals(RequestType.AUTH_RESPONSE,appPage.getRequestType());
  events.expectLogin().assertEvent();
}
