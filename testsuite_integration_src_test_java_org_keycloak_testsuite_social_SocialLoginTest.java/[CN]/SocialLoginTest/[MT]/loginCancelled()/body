{
  loginPage.open();
  loginPage.clickSocial("dummy");
  driver.findElement(By.id("cancel")).click();
  Assert.assertEquals(RequestType.AUTH_RESPONSE,appPage.getRequestType());
  AccessTokenResponse response=oauth.doAccessTokenRequest(oauth.getCurrentQuery().get("code"),"password");
  AccessToken token=oauth.verifyToken(response.getAccessToken());
  Assert.assertEquals(36,token.getSubject().length());
  UserRepresentation profile=keycloakRule.getUserById("test",token.getSubject());
  Assert.assertEquals(36,profile.getUsername().length());
  Assert.assertEquals("Bob",profile.getFirstName());
  Assert.assertEquals("Builder",profile.getLastName());
  Assert.assertEquals("bob@builder.com",profile.getEmail());
}
