{
  try {
    JSONObject realmJson=new JSONObject(IOUtils.toString(getClass().getResourceAsStream("/perfrealm.json")));
    realmPublicKey=PemUtils.decodePublicKey(realmJson.getString("publicKey"));
    this.baseUrl=(baseUrl != null) ? baseUrl + "/auth" : "http://localhost:8081/auth";
    this.redirectUri=baseUrl + "/perf-app/perf-servlet";
  }
 catch (  Exception e) {
    throw new RuntimeException("Failed to retrieve realm public key",e);
  }
}
