{
  ModelNode model=resource.getModel();
  for (  AttributeDefinition attrDef : KeycloakSubsystemDefinition.ALL_ATTRIBUTES) {
    attrDef.validateAndSet(operation,model);
  }
  if (!requiresRuntime(context)) {
    return;
  }
  if (!context.isNormalServer()) {
    return;
  }
  ModelNode webContextNode=resource.getModel().get(KeycloakSubsystemDefinition.WEB_CONTEXT.getName());
  if (!webContextNode.isDefined()) {
    webContextNode=KeycloakSubsystemDefinition.WEB_CONTEXT.getDefaultValue();
  }
  String webContext=webContextNode.asString();
  ServerUtil serverUtil=new ServerUtil(operation);
  serverUtil.addStepToUploadServerWar(context);
  KeycloakAdapterConfigService.INSTANCE.setWebContext(webContext);
}
